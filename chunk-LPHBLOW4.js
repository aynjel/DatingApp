import{a as y,b as e,c as v,d as h,e as d,f as x,g as N,h as S,i as L,j as E,l as F}from"./chunk-II7HKODN.js";import{h as w}from"./chunk-FAU5I2TE.js";import"./chunk-ROSIR3OZ.js";import"./chunk-UR7Q5AG6.js";import{a as R}from"./chunk-5B6IDYEZ.js";import{Da as f,S as u,Ua as n,Va as o,Wa as r,Xa as m,ab as c,fa as g,gb as s,ib as b,ua as i}from"./chunk-HAKBIAQB.js";var C=class p{authService=u(F);formBuilder=u(L);toastService=u(R);router=u(w);isLoading=g(!1);registerForm=this.formBuilder.group({firstName:new d("",[e.required,e.minLength(2),e.maxLength(100)]),lastName:new d("",[e.required,e.minLength(2),e.maxLength(100)]),username:new d("",[e.required,e.minLength(3),e.maxLength(20)]),email:new d("",[e.required,e.email]),password:new d("",[e.required,e.minLength(6),this.passwordsMatch()]),confirmPassword:new d("",[e.required,e.minLength(6),this.passwordsMatch()])});onSubmit(){if(!this.registerForm.valid)return;let l=this.registerForm.getRawValue();this.isLoading.set(!0),this.authService.registerUser(l).subscribe({next:a=>{this.toastService.show("Registration successful!","success"),this.router.navigate(["/"]),this.isLoading.set(!1)},error:a=>{this.toastService.show("Registration failed. Please try again.","error"),console.error(a),this.isLoading.set(!1)}})}passwordsMatch(){return l=>{let a=l.get("password")?.value,t=l.get("confirmPassword")?.value;return a===t?null:{passwordsMismatch:!0}}}static \u0275fac=function(a){return new(a||p)};static \u0275cmp=f({type:p,selectors:[["app-register-form"]],decls:33,vars:9,consts:[[1,"card","max-w-lg","mx-auto","shadow-lg"],[1,"card-title","justify-center","text-3xl","text-secondary"],[1,"card-body"],[3,"ngSubmit","formGroup"],[1,"flex","gap-3","mb-4"],[1,"flex-1"],["for","firstName",1,"block","text-sm","font-medium","text-gray-700"],["id","firstName","formControlName","firstName",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","p-2",3,"readonly"],["for","lastName",1,"block","text-sm","font-medium","text-gray-700"],["id","lastName","formControlName","lastName",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","p-2",3,"readonly"],[1,"mb-4"],["for","username",1,"block","text-sm","font-medium","text-gray-700"],["id","username","formControlName","username",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","p-2",3,"readonly"],["for","email",1,"block","text-sm","font-medium","text-gray-700"],["id","email","formControlName","email",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","p-2",3,"readonly"],["for","password",1,"block","text-sm","font-medium","text-gray-700"],["id","password","formControlName","password","type","password",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","p-2",3,"readonly"],["for","confirmPassword",1,"block","text-sm","font-medium","text-gray-700"],["id","confirmPassword","formControlName","confirmPassword","type","password",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","p-2",3,"readonly"],["type","submit",1,"btn","mt-4","w-full","btn-secondary",3,"disabled"]],template:function(a,t){a&1&&(o(0,"div",0)(1,"div",1),s(2,"Sign Up"),r(),o(3,"div",2)(4,"form",3),c("ngSubmit",function(){return t.onSubmit()}),o(5,"div",4)(6,"div",5)(7,"label",6),s(8,"First Name"),r(),m(9,"input",7),r(),o(10,"div",5)(11,"label",8),s(12,"Last Name"),r(),m(13,"input",9),r()(),o(14,"div",10)(15,"label",11),s(16,"Username"),r(),m(17,"input",12),r(),o(18,"div",10)(19,"label",13),s(20,"Email"),r(),m(21,"input",14),r(),o(22,"div",4)(23,"div",5)(24,"label",15),s(25,"Password"),r(),m(26,"input",16),r(),o(27,"div",5)(28,"label",17),s(29,"Confirm Password"),r(),m(30,"input",18),r()(),o(31,"button",19),s(32),r()()()()),a&2&&(i(4),n("formGroup",t.registerForm),i(5),n("readonly",t.isLoading()),i(4),n("readonly",t.isLoading()),i(4),n("readonly",t.isLoading()),i(4),n("readonly",t.isLoading()),i(5),n("readonly",t.isLoading()),i(4),n("readonly",t.isLoading()),i(),n("disabled",t.isLoading()),i(),b(" ",t.isLoading()?"Registering...":"Register"," "))},dependencies:[E,x,y,v,h,N,S],encapsulation:2})};export{C as RegisterForm};
