import{a as $,b as u,c as J,d as K,e as N,f as Q,g as W,h as X,i as Y,j as ee,k as te,l as b}from"./chunk-II7HKODN.js";import{b as S,d as G,e as U,f as q,g as z,i as P,j as Z,k as O}from"./chunk-FAU5I2TE.js";import"./chunk-ROSIR3OZ.js";import{d as j,e as B,f as H}from"./chunk-UR7Q5AG6.js";import{a as oe}from"./chunk-5B6IDYEZ.js";import{$a as _,Da as f,Pa as h,Qa as x,Ra as F,S as p,Sa as A,Ta as M,Ua as C,Va as i,Wa as n,X as g,Xa as a,Y as v,Z as c,_ as y,ab as w,bb as d,ea as E,gb as s,hb as V,jb as I,mb as D,ob as R,ua as l}from"./chunk-HAKBIAQB.js";var ie=[{path:"",children:[{path:"home",loadComponent:()=>import("./chunk-2IG64PA3.js").then(e=>e.Home)},{path:"register",loadComponent:()=>import("./chunk-LPHBLOW4.js").then(e=>e.RegisterForm)},{path:"",pathMatch:"full",redirectTo:"home"}]},{path:"users",loadComponent:()=>import("./chunk-HOB6Y4WD.js").then(e=>e.UsersList)},{path:"users/:id",loadComponent:()=>import("./chunk-ZE4H73JW.js").then(e=>e.UserDetails)},{path:"lists",loadComponent:()=>import("./chunk-EOXOJZGK.js").then(e=>e.Lists)},{path:"messages",loadComponent:()=>import("./chunk-4IX5CBB3.js").then(e=>e.Messages)},{path:"**",redirectTo:"home"}];var ne=(e,o)=>{let r=p(te).get("accessToken"),m=e.clone({setHeaders:{Authorization:`Bearer ${r}`}});return o(m)};var re={providers:[E(),R(),O(ie),q(U()),j(H(),B([ne]))]};function pe(e,o){e&1&&(c(),i(0,"svg",2),a(1,"path",4),n())}function le(e,o){e&1&&(c(),i(0,"svg",2),a(1,"path",4),n())}function ce(e,o){e&1&&(c(),i(0,"svg",2),a(1,"path",4),n())}function de(e,o){e&1&&(c(),i(0,"svg",2),a(1,"path",4),n())}function ue(e,o){if(e&1){let t=_();i(0,"div",1),h(1,pe,2,0,":svg:svg",2)(2,le,2,0,":svg:svg",2)(3,ce,2,0,":svg:svg",2)(4,de,2,0,":svg:svg",2),i(5,"span"),s(6),n(),i(7,"button",3),w("click",function(){let m=g(t).$implicit,me=d();return v(me.remove(m.id))}),s(8," \u2715 "),n()()}if(e&2){let t,r=o.$implicit,m=d();C("ngClass",m.getClass(r.type)),l(),x((t=r.type)==="success"?1:t==="error"?2:t==="info"?3:t==="warning"?4:-1),l(5),V(r.message)}}var k=class e{toastService=p(oe);toasts=this.toastService.toasts;getClass(o){return{"alert-success":o==="success","alert-error":o==="error","alert-info":o==="info","alert-warning":o==="warning"}}remove(o){this.toastService.remove(o)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=f({type:e,selectors:[["app-toast"]],decls:3,vars:0,consts:[[1,"toast"],["role","alert",1,"alert",3,"ngClass"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"h-6","w-6","shrink-0","stroke-current"],[1,"btn","btn-sm","btn-circle","btn-ghost",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"]],template:function(t,r){t&1&&(i(0,"div",0),A(1,ue,9,3,"div",1,F),n()),t&2&&(l(),M(r.toasts()))},dependencies:[S],encapsulation:2})};var fe=e=>({"border-r-white border-r-2 pr-6":e});function ge(e,o){e&1&&(i(0,"a",11),s(1,"Matches"),n(),i(2,"a",12),s(3,"People"),n(),i(4,"a",13),s(5,"Messages"),n())}function ve(e,o){if(e&1){let t=_();i(0,"div",9)(1,"button",14),c(),i(2,"svg",15),a(3,"path",16),n(),s(4),n(),y(),i(5,"ul",17)(6,"li")(7,"a",18),s(8," Profile "),n()(),i(9,"li")(10,"a",18),s(11," Settings "),n()(),i(12,"li")(13,"a",19),w("click",function(){g(t);let m=d();return v(m.onLogout())}),s(14," Logout "),n()()()()}if(e&2){let t=o;l(4),I(" ",t.firstName," ",t.lastName," ")}}function he(e,o){if(e&1){let t=_();i(0,"form",20),w("ngSubmit",function(){g(t);let m=d();return v(m.onSubmit())}),a(1,"input",21)(2,"input",22),i(3,"button",23),s(4,"Login"),n()()}if(e&2){let t=d();C("formGroup",t.loginForm)}}var L=class e{formBuilder=p(Y);authService=p(b);loginForm=this.formBuilder.group({username:new N("",[u.required,u.minLength(3),u.maxLength(20)]),password:new N("",[u.required,u.minLength(6),u.maxLength(100)])});onSubmit(){if(!this.loginForm.valid)return;let o=this.loginForm.getRawValue();this.authService.login(o).subscribe({next:t=>{console.log("Login successful",t)},error:t=>{alert("Login failed: "+t.error)}})}onLogout(){this.authService.logout().subscribe({next:o=>{console.log("Logout successful",o)},error:o=>{alert("Logout failed: "+o.error)}})}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=f({type:e,selectors:[["app-nav"]],decls:13,vars:5,consts:[[1,"p-3","w-full","fixed","top-0","z-50","bg-gradient-to-r","from-secondary","to-black"],[1,"flex","align-middle","items-center","px-10","mx-auto","gap-6"],[1,"text-white"],["routerLink","/home","routerLinkActive","text-primary",1,"flex","items-center","gap-3","max-h-16",3,"ngClass"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-8"],["stroke-linecap","round","stroke-linejoin","round","d","M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"],[1,"text-2xl","font-semibold","uppercase"],[1,"flex","gap-4","my-2","uppercase","text-lg","text-white"],[1,"flex","align-middle","ml-auto","gap-3"],[1,"dropdown","dropdown-end"],["autocomplete","off",1,"flex","items-center","gap-3",3,"formGroup"],["routerLink","/users","routerLinkActive","text-primary",1,"hover:text-primary"],["routerLink","/lists","routerLinkActive","text-primary",1,"hover:text-primary"],["routerLink","/messages","routerLinkActive","text-primary",1,"hover:text-primary"],["tabindex","0",1,"flex","items-center","text-white","text-xl","gap-3","cursor-pointer"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-6"],["stroke-linecap","round","stroke-linejoin","round","d","M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"],["tabindex","0",1,"dropdown-content","dropdown-end","menu","bg","bg-base-100","rounded-box","z-1","w-52"],["href","",1,"justify-between"],["href","",1,"justify-between",3,"click"],["autocomplete","off",1,"flex","items-center","gap-3",3,"ngSubmit","formGroup"],["type","text","formControlName","username","placeholder","Username",1,"input"],["type","password","formControlName","password","placeholder","Password",1,"input"],[1,"btn","btn-secondary"]],template:function(t,r){if(t&1&&(i(0,"header",0)(1,"div",1)(2,"div",2)(3,"a",3),c(),i(4,"svg",4),a(5,"path",5),n(),y(),i(6,"h3",6),s(7,"Dating App"),n()()(),i(8,"nav",7),h(9,ge,6,0),n(),i(10,"div",8),h(11,ve,15,2,"div",9)(12,he,5,1,"form",10),n()()()),t&2){let m;l(3),C("ngClass",D(3,fe,r.authService.isLoggedIn())),l(6),x(r.authService.isLoggedIn()?9:-1),l(2),x((m=r.authService.userAccountData())?11:12,m)}},dependencies:[ee,Q,$,J,K,W,X,P,Z,S],encapsulation:2})};var T=class e{authService=p(b);ngOnInit(){this.authService.retrieveUserAccount(),console.log(this.authService.isLoggedIn())}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=f({type:e,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"mt-24","container","mx-auto"]],template:function(t,r){t&1&&(a(0,"app-nav"),i(1,"div",0),a(2,"router-outlet"),n(),a(3,"app-toast"))},dependencies:[z,L,k],encapsulation:2})};G(T,re).catch(e=>console.error(e));
