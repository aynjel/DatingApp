import{b as h,c as N,d as e,e as S,f as L,g as d,h as E,i as F,j as R,k as C,l as k}from"./chunk-QP4DLKIV.js";import{h as v}from"./chunk-PRAXM5FC.js";import"./chunk-ROSIR3OZ.js";import"./chunk-64QYHHIX.js";import{a as x}from"./chunk-NKAKMJBZ.js";import{D as g,E as f,Ea as b,T as u,Xa as a,Ya as o,Za as r,_a as m,db as w,ga as c,jb as n,lb as y,va as i}from"./chunk-IU4JXPPZ.js";var P=class p{authService=u(h);formBuilder=u(C);toastService=u(x);router=u(v);isLoading=c(!1);registerForm=this.formBuilder.group({firstName:new d("",[e.required,e.minLength(2),e.maxLength(100)]),lastName:new d("",[e.required,e.minLength(2),e.maxLength(100)]),username:new d("",[e.required,e.minLength(3),e.maxLength(20)]),email:new d("",[e.required,e.email]),password:new d("",[e.required,e.minLength(6),this.passwordsMatch()]),confirmPassword:new d("",[e.required,e.minLength(6),this.passwordsMatch()])});onSubmit(){if(!this.registerForm.valid)return;let l=this.registerForm.getRawValue();this.isLoading.set(!0),this.authService.registerUser(l).pipe(f(),g(()=>this.isLoading.set(!1))).subscribe({next:s=>{this.toastService.show("Registration successful!","success"),this.router.navigate(["/"])},error:s=>{this.toastService.show("Registration failed. Please try again.","error")}})}passwordsMatch(){return l=>{let s=l.get("password")?.value,t=l.get("confirmPassword")?.value;return s===t?null:{passwordsMismatch:!0}}}static \u0275fac=function(s){return new(s||p)};static \u0275cmp=b({type:p,selectors:[["app-register-form"]],decls:33,vars:9,consts:[[1,"card","max-w-lg","mx-auto","shadow-lg"],[1,"card-title","justify-center","text-3xl","text-secondary"],[1,"card-body"],[3,"ngSubmit","formGroup"],[1,"flex","gap-3","mb-4"],[1,"flex-1"],["for","firstName",1,"block","text-sm","font-medium","text-gray-700"],["id","firstName","formControlName","firstName",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","p-2",3,"readonly"],["for","lastName",1,"block","text-sm","font-medium","text-gray-700"],["id","lastName","formControlName","lastName",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","p-2",3,"readonly"],[1,"mb-4"],["for","username",1,"block","text-sm","font-medium","text-gray-700"],["id","username","formControlName","username",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","p-2",3,"readonly"],["for","email",1,"block","text-sm","font-medium","text-gray-700"],["id","email","formControlName","email",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","p-2",3,"readonly"],["for","password",1,"block","text-sm","font-medium","text-gray-700"],["id","password","formControlName","password","type","password",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","p-2",3,"readonly"],["for","confirmPassword",1,"block","text-sm","font-medium","text-gray-700"],["id","confirmPassword","formControlName","confirmPassword","type","password",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","p-2",3,"readonly"],["type","submit",1,"btn","mt-4","w-full","btn-secondary",3,"disabled"]],template:function(s,t){s&1&&(o(0,"div",0)(1,"div",1),n(2,"Sign Up"),r(),o(3,"div",2)(4,"form",3),w("ngSubmit",function(){return t.onSubmit()}),o(5,"div",4)(6,"div",5)(7,"label",6),n(8,"First Name"),r(),m(9,"input",7),r(),o(10,"div",5)(11,"label",8),n(12,"Last Name"),r(),m(13,"input",9),r()(),o(14,"div",10)(15,"label",11),n(16,"Username"),r(),m(17,"input",12),r(),o(18,"div",10)(19,"label",13),n(20,"Email"),r(),m(21,"input",14),r(),o(22,"div",4)(23,"div",5)(24,"label",15),n(25,"Password"),r(),m(26,"input",16),r(),o(27,"div",5)(28,"label",17),n(29,"Confirm Password"),r(),m(30,"input",18),r()(),o(31,"button",19),n(32),r()()()()),s&2&&(i(4),a("formGroup",t.registerForm),i(5),a("readonly",t.isLoading()),i(4),a("readonly",t.isLoading()),i(4),a("readonly",t.isLoading()),i(4),a("readonly",t.isLoading()),i(5),a("readonly",t.isLoading()),i(4),a("readonly",t.isLoading()),i(),a("disabled",t.isLoading()),i(),y(" ",t.isLoading()?"Registering...":"Register"," "))},dependencies:[k,E,N,S,L,F,R],encapsulation:2})};export{P as RegisterForm};
