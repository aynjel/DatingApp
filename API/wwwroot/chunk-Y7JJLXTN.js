import{a as $,b as p,c as U,d as K,f as z,g as H,h as J,l as Q,n as W}from"./chunk-PYPUOAOI.js";import{a as B}from"./chunk-OJW6FSEX.js";import"./chunk-TPVZAPYQ.js";import"./chunk-CBF35FRT.js";import"./chunk-4RSQC63I.js";import{l as G}from"./chunk-XZSLKHTU.js";import"./chunk-QLGWID6J.js";import{f as V,g as j}from"./chunk-YAPC6UNN.js";import"./chunk-BNAZ6FXL.js";import{i as I}from"./chunk-PD326AGR.js";import{$a as l,Db as v,Eb as w,Ga as q,Kb as D,Lb as A,R as c,Va as m,Wa as d,Xa as f,Ya as C,Za as F,_a as _,ab as s,bb as u,ib as O,kb as y,rb as h,sb as o,xa as a}from"./chunk-BENNHJVS.js";import"./chunk-GH7VMSIE.js";function Z(e,n){e&1&&o(0," Name is required. ")}function ee(e,n){e&1&&o(0," Name must be at least 2 characters. ")}function te(e,n){e&1&&o(0," Name cannot exceed 100 characters. ")}function ie(e,n){if(e&1&&m(0,Z,1,0)(1,ee,1,0)(2,te,1,0),e&2){let i,r=n.$implicit;d((i=r.key)==="required"?0:i==="minlength"?1:i==="maxlength"?2:-1)}}function re(e,n){if(e&1&&(l(0,"span",3),C(1,ie,3,1,null,null,f),v(3,"keyvalue"),s()),e&2){let i,r=y();a(),F(w(3,0,(i=r.registerForm.get("displayName"))==null?null:i.errors))}}function ne(e,n){e&1&&o(0," Email is required. ")}function oe(e,n){e&1&&o(0," Invalid email format. ")}function le(e,n){if(e&1&&m(0,ne,1,0)(1,oe,1,0),e&2){let i,r=n.$implicit;d((i=r.key)==="required"?0:i==="email"?1:-1)}}function ae(e,n){if(e&1&&(l(0,"span",3),C(1,le,2,1,null,null,f),v(3,"keyvalue"),s()),e&2){let i,r=y();a(),F(w(3,0,(i=r.registerForm.get("email"))==null?null:i.errors))}}function se(e,n){e&1&&o(0," Password is required. ")}function me(e,n){e&1&&o(0," Password must be at least 6 characters. ")}function de(e,n){e&1&&o(0," Passwords do not match. ")}function pe(e,n){if(e&1&&m(0,se,1,0)(1,me,1,0)(2,de,1,0),e&2){let i,r=n.$implicit;d((i=r.key)==="required"?0:i==="minlength"?1:i==="passwordsMismatch"?2:-1)}}function ue(e,n){if(e&1&&(l(0,"span",3),C(1,pe,3,1,null,null,f),v(3,"keyvalue"),s()),e&2){let i,r=y();a(),F(w(3,0,(i=r.registerForm.get("password"))==null?null:i.errors))}}function ce(e,n){e&1&&o(0," Confirm Password is required. ")}function _e(e,n){e&1&&o(0," Confirm Password must be at least 6 characters. ")}function ge(e,n){e&1&&o(0," Passwords do not match. ")}function fe(e,n){if(e&1&&m(0,ce,1,0)(1,_e,1,0)(2,ge,1,0),e&2){let i,r=n.$implicit;d((i=r.key)==="required"?0:i==="minlength"?1:i==="passwordsMismatch"?2:-1)}}function Ce(e,n){if(e&1&&(l(0,"span",3),C(1,fe,3,1,null,null,f),v(3,"keyvalue"),s()),e&2){let i,r=y();a(),F(w(3,0,(i=r.registerForm.get("confirmPassword"))==null?null:i.errors))}}function Fe(e,n){e&1&&u(0,"span",8)}function ye(e,n){e&1&&o(0," Sign Up ")}var X=(()=>{class e{globalStore=c(G);authStore=c(B);formBuilder=c(Q);isLoading=D(()=>this.globalStore.isSubmitting());registerForm=this.formBuilder.group({displayName:["",[p.required,p.minLength(2),p.maxLength(100)]],email:["",[p.required,p.email]],password:["",[p.required,p.minLength(6)]],confirmPassword:["",[p.required,p.minLength(6)]]},{validators:this.passwordsMatch()});onSubmit(){if(this.registerForm.invalid){this.registerForm.markAllAsTouched();return}let i=this.registerForm.getRawValue(),r={displayName:i.displayName,email:i.email,password:i.password,confirmPassword:i.confirmPassword};this.authStore.signUp({data:r,onSuccess:()=>{this.registerForm.reset()}})}passwordsMatch(){return i=>{let r=i.get("password"),t=i.get("confirmPassword");return!r||!t||t.errors&&!t.errors.passwordsMismatch||(r.value!==t.value?t.setErrors({passwordsMismatch:!0}):t.hasError("passwordsMismatch")&&t.setErrors(null)),null}}static \u0275fac=function(r){return new(r||e)};static \u0275cmp=q({type:e,selectors:[["app-register-form"]],decls:17,vars:27,consts:[[3,"ngSubmit","formGroup"],[1,"flex","flex-col","gap-3"],["type","text","formControlName","displayName","placeholder","Name",1,"input","input-bordered","w-full",3,"readOnly"],[1,"text-error","text-xs"],["type","email","formControlName","email","placeholder","Email",1,"input","input-bordered","w-full",3,"readOnly"],["type","password","formControlName","password","placeholder","Password",1,"input","input-bordered","w-full",3,"readOnly"],["type","password","formControlName","confirmPassword","placeholder","Confirm Password",1,"input","input-bordered","w-full",3,"readOnly"],["type","submit",1,"btn","btn-primary","w-full",3,"disabled"],[1,"loading","loading-spinner","loading-xs"]],template:function(r,t){if(r&1&&(l(0,"form",0),O("ngSubmit",function(){return t.onSubmit()}),l(1,"div",1)(2,"div"),u(3,"input",2),m(4,re,4,2,"span",3),s(),l(5,"div"),u(6,"input",4),m(7,ae,4,2,"span",3),s(),l(8,"div"),u(9,"input",5),m(10,ue,4,2,"span",3),s(),l(11,"div"),u(12,"input",6),m(13,Ce,4,2,"span",3),s(),l(14,"button",7),m(15,Fe,1,0,"span",8)(16,ye,1,0),s()()()),r&2){let g,x,S,b,R,T,P,N,E,k,L,M;_("formGroup",t.registerForm),a(3),h("input-error",((g=t.registerForm.get("displayName"))==null?null:g.invalid)&&((g=t.registerForm.get("displayName"))==null?null:g.touched))("input-success",((x=t.registerForm.get("displayName"))==null?null:x.valid)&&((x=t.registerForm.get("displayName"))==null?null:x.touched)),_("readOnly",t.isLoading()),a(),d((S=t.registerForm.get("displayName"))!=null&&S.invalid&&((S=t.registerForm.get("displayName"))!=null&&S.touched)?4:-1),a(2),h("input-error",((b=t.registerForm.get("email"))==null?null:b.invalid)&&((b=t.registerForm.get("email"))==null?null:b.touched))("input-success",((R=t.registerForm.get("email"))==null?null:R.valid)&&((R=t.registerForm.get("email"))==null?null:R.touched)),_("readOnly",t.isLoading()),a(),d((T=t.registerForm.get("email"))!=null&&T.invalid&&((T=t.registerForm.get("email"))!=null&&T.touched)?7:-1),a(2),h("input-error",((P=t.registerForm.get("password"))==null?null:P.invalid)&&((P=t.registerForm.get("password"))==null?null:P.touched))("input-success",((N=t.registerForm.get("password"))==null?null:N.valid)&&((N=t.registerForm.get("password"))==null?null:N.touched)),_("readOnly",t.isLoading()),a(),d((E=t.registerForm.get("password"))!=null&&E.invalid&&((E=t.registerForm.get("password"))!=null&&E.touched)?10:-1),a(2),h("input-error",((k=t.registerForm.get("confirmPassword"))==null?null:k.invalid)&&((k=t.registerForm.get("confirmPassword"))==null?null:k.touched))("input-success",((L=t.registerForm.get("confirmPassword"))==null?null:L.valid)&&((L=t.registerForm.get("confirmPassword"))==null?null:L.touched)),_("readOnly",t.isLoading()),a(),d((M=t.registerForm.get("confirmPassword"))!=null&&M.invalid&&((M=t.registerForm.get("confirmPassword"))!=null&&M.touched)?13:-1),a(),_("disabled",t.isLoading()),a(),d(t.isLoading()?15:16)}},dependencies:[W,z,$,U,K,H,J,I],encapsulation:2})}return e})();var Me=(()=>{class e{authStore=c(B);router=c(V);constructor(){A(()=>{this.authStore.isLoggedIn()&&this.router.navigate(["/home"])})}static \u0275fac=function(r){return new(r||e)};static \u0275cmp=q({type:e,selectors:[["app-register"]],decls:16,vars:0,consts:[["registerFormRef",""],[1,"min-h-screen","flex","items-center","justify-center","bg-gradient-to-br","from-base-200","via-base-100","to-base-200","py-12","px-4"],[1,"card","w-full","max-w-md","shadow-2xl","bg-base-100"],[1,"card-body"],[1,"card-title","text-3xl","justify-center","mb-2"],[1,"text-center","text-base-content/70","mb-6"],[1,"divider"],[1,"text-center"],[1,"text-sm","text-base-content/70"],["routerLink","/auth/login",1,"link","link-primary","ml-1"]],template:function(r,t){r&1&&(l(0,"div",1)(1,"div",2)(2,"div",3)(3,"h2",4),o(4,"Sign Up"),s(),l(5,"p",5),o(6," Create your account to get started "),s(),u(7,"app-register-form",null,0),l(9,"div",6),o(10,"OR"),s(),l(11,"div",7)(12,"p",8),o(13," Already have an account? "),l(14,"a",9),o(15," Sign in "),s()()()()()())},dependencies:[X,j],encapsulation:2})}return e})();export{Me as RegisterComponent};
//# sourceMappingURL=chunk-Y7JJLXTN.js.map
