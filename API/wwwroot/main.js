import{a as le,b as ce}from"./chunk-Y2YETQVK.js";import{a as be,b as Ce}from"./chunk-S7KDQIES.js";import{B as ve,C as _e,D as A,c as me,i as V,k as pe,l as de,m as ue,n as M,q as fe,s as D,w as he,y as ge,z as F}from"./chunk-4DA76ATU.js";import{a as g}from"./chunk-OJW6FSEX.js";import"./chunk-TPVZAPYQ.js";import"./chunk-CBF35FRT.js";import"./chunk-4RSQC63I.js";import{a as S}from"./chunk-XZSLKHTU.js";import"./chunk-QLGWID6J.js";import{a as K,b as te,c as ne,e as oe,f as w,g as ie,h as re,i as ae,j as se}from"./chunk-YAPC6UNN.js";import{c as Q,d as X,e as ee}from"./chunk-BNAZ6FXL.js";import{f as J}from"./chunk-PD326AGR.js";import{$a as i,Ga as b,Hb as W,Kb as Y,Lb as Z,R as c,Ra as H,T as j,Va as C,Wa as x,X as u,Xa as P,Y as f,Ya as T,Z as I,Za as E,_a as m,aa as z,ab as a,bb as l,ea as B,fb as _,ga as O,ib as h,kb as p,pb as $,rb as q,sb as d,tb as y,v as R,xa as r,za as G}from"./chunk-BENNHJVS.js";import"./chunk-GH7VMSIE.js";function Ae(e,s){e&1&&(I(),i(0,"svg",2),l(1,"path",4),a())}function Le(e,s){e&1&&(I(),i(0,"svg",2),l(1,"path",4),a())}function Ne(e,s){e&1&&(I(),i(0,"svg",2),l(1,"path",4),a())}function Ve(e,s){e&1&&(I(),i(0,"svg",2),l(1,"path",4),a())}function Me(e,s){if(e&1){let t=_();i(0,"div",1),C(1,Ae,2,0,":svg:svg",2)(2,Le,2,0,":svg:svg",2)(3,Ne,2,0,":svg:svg",2)(4,Ve,2,0,":svg:svg",2),i(5,"span"),d(6),a(),i(7,"button",3),h("click",function(){let n=u(t).$implicit,v=p();return f(v.remove(n.id))}),d(8," \u2715 "),a()()}if(e&2){let t,o=s.$implicit,n=p();m("ngClass",n.getClass(o.type)),r(),x((t=o.type)==="success"?1:t==="error"?2:t==="info"?3:t==="warning"?4:-1),r(5),y(o.message)}}var we=(()=>{class e{toastService=c(S);toasts=this.toastService.toasts;getClass(t){return{"alert-success":t==="success","alert-error":t==="error","alert-info":t==="info","alert-warning":t==="warning"}}remove(t){this.toastService.remove(t)}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=b({type:e,selectors:[["app-toast"]],decls:3,vars:0,consts:[[1,"toast"],["role","alert",1,"alert",3,"ngClass"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"h-6","w-6","shrink-0","stroke-current"],[1,"btn","btn-sm","btn-circle","btn-ghost",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"]],template:function(o,n){o&1&&(i(0,"div",0),T(1,Me,9,3,"div",1,P),a()),o&2&&(r(),E(n.toasts()))},dependencies:[J],encapsulation:2})}return e})();var De=(e,s)=>s.routerLink;function Fe(e,s){if(e&1){let t=_();i(0,"button",11),h("click",function(){u(t);let n=p();return f(n.toggleSidebar())}),l(1,"lucide-icon",6),a()}if(e&2){let t=p();r(),m("name",t.menuIcon)}}function Ue(e,s){if(e&1&&(i(0,"button",12),l(1,"lucide-icon",6),a(),i(2,"button",13),l(3,"lucide-icon",6),a()),e&2){let t=p();r(),m("name",t.searchIcon),r(2),m("name",t.bellIcon)}}function Re(e,s){if(e&1&&(i(0,"a",14),l(1,"lucide-icon",15),d(2," Login "),a(),i(3,"a",16),l(4,"lucide-icon",15),d(5," Register "),a()),e&2){let t=p();r(),m("name",t.loginIcon),r(3),m("name",t.registerIcon)}}function je(e,s){if(e&1){let t=_();i(0,"li")(1,"a",30),h("click",function(){u(t);let n=p(2);return f(n.closeSidebar())}),l(2,"lucide-icon",15),i(3,"span"),d(4),a()()()}if(e&2){let t=s.$implicit;r(),m("routerLink",t.routerLink),r(),m("name",t.icon),r(2),y(t.label)}}function ze(e,s){if(e&1){let t=_();i(0,"aside",17)(1,"div",18)(2,"div",19)(3,"button",20),h("click",function(){u(t);let n=p();return f(n.toggleSidebar())}),l(4,"lucide-icon",6),a(),i(5,"a",21),h("click",function(){u(t);let n=p();return f(n.closeSidebar())}),l(6,"lucide-icon",6),i(7,"h2",7),d(8,"DatingApp"),a()()()(),i(9,"div",22)(10,"a",23),h("click",function(){u(t);let n=p();return f(n.closeSidebar())}),l(11,"ngx-avatar",24),i(12,"span",25),d(13),a()()(),i(14,"nav",26)(15,"ul",27),T(16,je,5,3,"li",null,De),i(18,"li",28)(19,"a",29),h("click",function(){u(t);let n=p();return $(13).fire(),f(n.closeSidebar())}),l(20,"lucide-icon",15),i(21,"span"),d(22,"Logout"),a()()()()()()}if(e&2){let t,o,n=p();q("translate-x-0",n.sidebarOpen())("-translate-x-full",!n.sidebarOpen()),r(4),m("name",n.menuIcon),r(2),m("name",n.usersIcon),r(5),m("name",(t=n.authStore.currentUser())==null?null:t.displayName)("round",!0),r(2),y((o=n.authStore.currentUser())==null?null:o.displayName),r(3),E(n.navigationLinks),r(4),m("name",n.logoutIcon)}}var Se=(()=>{class e{authStore=c(g);sidebarOpen=O(!1);menuIcon=ue;usersIcon=ge;heartIcon=V;peopleIcon=F;messageIcon=M;settingsIcon=D;logoutIcon=de;searchIcon=fe;bellIcon=me;loginIcon=pe;registerIcon=he;navigationLinks=[{label:"Matches",icon:V,routerLink:"/members/matches"},{label:"People",icon:F,routerLink:"/people/lists"},{label:"Message",icon:M,routerLink:"/messages/inbox"},{label:"Settings",icon:D,routerLink:"/settings/account"}];toggleSidebar(){this.sidebarOpen.update(t=>!t)}closeSidebar(){this.sidebarOpen.set(!1)}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=b({type:e,selectors:[["app-nav"]],decls:14,vars:6,consts:[["logoutAlert",""],[1,"fixed","top-0","left-0","w-full","z-40","bg-gradient-to-r","from-secondary","to-black","text-white","shadow-md"],[1,"navbar"],[1,"navbar-start","flex","items-center","gap-3","px-4"],["aria-label","Toggle sidebar",1,"btn","btn-ghost","btn-sm","text-white","hover:bg-white/10"],["routerLink","/home",1,"flex","items-center","gap-2"],[1,"size-6",3,"name"],[1,"text-xl","font-bold"],[1,"navbar-end","flex","items-center","gap-2","px-4"],[1,"fixed","top-0","left-0","h-full","w-64","bg-gradient-to-b","from-secondary","to-black","text-white","shadow-lg","z-50","transform","transition-transform","duration-300","ease-in-out",3,"translate-x-0","-translate-x-full"],["title","Confirm logout?","text","When confirmed you will be logged out","icon","question",3,"confirm","showCancelButton","focusCancel"],["aria-label","Toggle sidebar",1,"btn","btn-ghost","btn-sm","text-white","hover:bg-white/10",3,"click"],["aria-label","Search",1,"btn","btn-ghost","btn-sm","text-white","hover:bg-white/10"],["aria-label","Notifications",1,"btn","btn-ghost","btn-sm","text-white","hover:bg-white/10"],["routerLink","/auth/login",1,"btn","btn-ghost","btn-sm","text-white","hover:bg-white/10","gap-2"],[1,"size-5",3,"name"],["routerLink","/auth/register",1,"btn","btn-primary","btn-sm","text-white","hover:opacity-90","gap-2"],[1,"fixed","top-0","left-0","h-full","w-64","bg-gradient-to-b","from-secondary","to-black","text-white","shadow-lg","z-50","transform","transition-transform","duration-300","ease-in-out"],[1,"flex","items-center","justify-between","p-4","border-b","border-white/10"],[1,"flex","items-center","gap-3","px-2"],["aria-label","Close sidebar",1,"btn","btn-ghost","btn-sm","text-white","hover:bg-white/10",3,"click"],["routerLink","/home",1,"flex","items-center","gap-2",3,"click"],[1,"p-2","border-b","border-white/10"],["routerLink","/profile/me",1,"flex","items-center","gap-3","hover:bg-white/10","p-2","rounded-lg","transition-colors",3,"click"],["size","40",3,"name","round"],[1,"font-semibold"],[1,"flex-1","overflow-y-auto","py-4"],[1,"menu","p-0","w-full"],[1,"mt-auto","pt-4","border-t","border-white/10"],[1,"flex","items-center","gap-3","hover:bg-red-700/70","font-semibold","text-red-400","hover:text-red-300",3,"click"],["routerLinkActive","bg-white/70 text-black",1,"flex","items-center","gap-3","hover:bg-white/10","font-semibold",3,"click","routerLink"]],template:function(o,n){if(o&1){let v=_();i(0,"header",1)(1,"div",2)(2,"div",3),C(3,Fe,2,1,"button",4),i(4,"a",5),l(5,"lucide-icon",6),i(6,"h2",7),d(7,"DatingApp"),a()()(),i(8,"div",8),C(9,Ue,4,2)(10,Re,6,2),a()()(),C(11,ze,23,10,"aside",9),i(12,"swal",10,0),h("confirm",function(){return u(v),f(n.authStore.logout())}),a()}o&2&&(r(3),x(n.authStore.isLoggedIn()?3:-1),r(2),m("name",n.usersIcon),r(4),x(n.authStore.isLoggedIn()?9:10),r(2),x(n.authStore.isLoggedIn()?11:-1),r(),m("showCancelButton",!0)("focusCancel",!0))},dependencies:[ie,A,_e,le,be],encapsulation:2})}return e})();var ke=(()=>{class e{authStore=c(g);router=c(w);isMemberDetailsSetup=Y(()=>{let t=this.authStore.currentUser();return t?!!t.memberDetails:!1});_checkMemberDetails=Z(()=>{let t=this.authStore.currentUser(),o=this.router.url;if(t&&!t.memberDetails&&!o.includes("/profile/member-details")){let n=t.userId;n&&this.router.navigate(["/profile/member-details",n])}});static \u0275fac=function(o){return new(o||e)};static \u0275cmp=b({type:e,selectors:[["app-root"]],decls:4,vars:0,consts:[["id","main-content",1,"mt-[4rem]","w-full","transition-all","duration-300"]],template:function(o,n){o&1&&(l(0,"app-nav"),i(1,"div",0),l(2,"router-outlet"),a(),l(3,"app-toast"))},dependencies:[oe,Se,we],encapsulation:2})}return e})();var k=(e,s)=>{let t=c(g),o=c(S),n=c(w);return t.isLoggedIn()?!0:(o.show("You must be logged in to access this page."),n.navigate(["/home"]),!1)};var Ie=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",loadComponent:()=>import("./chunk-4MFJSE3F.js").then(e=>e.HomeComponent),title:"Home"},{path:"auth",loadChildren:()=>import("./chunk-2B6KPZO6.js").then(e=>e.authRoutes)},{path:"profile",loadChildren:()=>import("./chunk-FYDS5WES.js").then(e=>e.routes),canActivate:[k]},{path:"members",loadChildren:()=>import("./chunk-5JQ7JMLG.js").then(e=>e.routes),canActivate:[k]},{path:"people",loadChildren:()=>import("./chunk-UCEUV6P2.js").then(e=>e.routes),canActivate:[k]},{path:"messages",loadChildren:()=>import("./chunk-IK4GORSY.js").then(e=>e.routes),canActivate:[k]},{path:"settings",loadChildren:()=>import("./chunk-RUVTOSDZ.js").then(e=>e.routes),canActivate:[k]},{path:"errors",loadComponent:()=>import("./chunk-QHUZWU2P.js").then(e=>e.TestErrorsComponent),title:"Test Errors"},{path:"server-error",loadComponent:()=>import("./chunk-MKFGXP5K.js").then(e=>e.ServerErrorComponent),title:"Server Error"},{path:"**",loadComponent:()=>import("./chunk-VTW3HVFB.js").then(e=>e.NotFoundComponent),title:"Page Not Found"}];var ye=(e,s)=>{let t=c(S),o=c(w);return s(e).pipe(R(n=>{if(n)switch(n.status){case 400:if(n.error.errors){let L=[],N=n.error.errors;for(let U in N)N[U]&&L.push(N[U]);throw L.flat()}else t.show(n.error.detail||"Bad Request","error");break;case 401:t.show(n.error.detail||"Unauthorized","error");break;case 404:o.navigateByUrl("/not-found");break;case 500:let v={state:{error:n.error}};o.navigateByUrl("/server-error",v);break;default:t.show(n.error.detail||"Something went wrong","error");break}throw n}))};var Te=(e,s)=>{let o=c(g).token()?.accessToken;if(!o)return s(e);let n=e.clone({setHeaders:{Authorization:`Bearer ${o}`}});return s(n)};var Be=()=>{let e=c(g),s=c(z),t=c(G).createRenderer(null,null);return e.isLoggedIn()&&e.getCurrentUser(),new Promise(o=>{setTimeout(()=>{let n=s.getElementById("initial-splash");if(n){let v=t.parentNode(n)??s.body;t.removeChild(v,n)}console.log("\u{1F680} Initialization Complete"),o()},500)})},Ee={providers:[B(),W(),re(Ie,se(),ae()),ne(te()),Q(ee(),X([Te,ye])),ce({fireOnInit:!1,dismissOnDestroy:!0}),j(Ce,A.pick(ve)),H(async()=>await Be())]};K(ke,Ee).catch(e=>console.error(e));
//# sourceMappingURL=main.js.map
