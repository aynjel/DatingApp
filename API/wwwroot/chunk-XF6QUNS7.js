import{a as H}from"./chunk-WJVA7YWW.js";import{a as Z}from"./chunk-S7KDQIES.js";import{A as R,C as A,D as k,i as B,u as U}from"./chunk-4DA76ATU.js";import"./chunk-TPVZAPYQ.js";import"./chunk-XZSLKHTU.js";import"./chunk-QLGWID6J.js";import{g as q}from"./chunk-YAPC6UNN.js";import"./chunk-BNAZ6FXL.js";import{j as w}from"./chunk-PD326AGR.js";import{$a as a,Cb as Y,Ga as g,Kb as y,Nb as M,Ob as b,R as E,Va as d,Wa as l,X as C,Y as f,Ya as V,Z as P,Za as z,_ as N,_a as p,ab as o,bb as u,fb as S,ga as _,ib as h,kb as c,lb as D,mb as I,qb as F,rb as O,sb as m,ub as v,va as j,vb as $,xa as r}from"./chunk-BENNHJVS.js";import"./chunk-GH7VMSIE.js";var Q=t=>["/people/details",t],G=(()=>{class t{memberId=b.required();isAnimating=b(!1);onLike=M();onPass=M();heartIcon=B;xIcon=R;handleLike(){this.isAnimating()||this.onLike.emit()}handlePass(){this.isAnimating()||this.onPass.emit()}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=g({type:t,selectors:[["app-match-actions"]],inputs:{memberId:[1,"memberId"],isAnimating:[1,"isAnimating"]},outputs:{onLike:"onLike",onPass:"onPass"},decls:8,vars:7,consts:[[1,"p-6","bg-base-100/95","backdrop-blur-md","rounded-b-3xl","shadow-lg","border-t","border-base-300/20"],[1,"flex","items-center","justify-center","gap-6"],["title","Pass",1,"btn","btn-circle","btn-lg","btn-ghost","hover:btn-error","transition-all","duration-300","hover:scale-110","active:scale-95",3,"click","disabled"],[1,"size-8",3,"name"],["title","View Profile",1,"btn","btn-primary","btn-lg","px-8","hover:scale-105","transition-all","duration-300",3,"routerLink"],["title","Like",1,"btn","btn-circle","btn-lg","btn-ghost","hover:btn-primary","hover:bg-primary","hover:text-primary-content","transition-all","duration-300","hover:scale-110","active:scale-95",3,"click","disabled"]],template:function(i,n){i&1&&(a(0,"div",0)(1,"div",1)(2,"button",2),h("click",function(){return n.handlePass()}),u(3,"lucide-icon",3),o(),a(4,"a",4),m(5," View Profile "),o(),a(6,"button",5),h("click",function(){return n.handleLike()}),u(7,"lucide-icon",3),o()()()),i&2&&(r(2),p("disabled",n.isAnimating()),r(),p("name",n.xIcon),r(),p("routerLink",Y(5,Q,n.memberId())),r(2),p("disabled",n.isAnimating()),r(),p("name",n.heartIcon))},dependencies:[q,k,A],encapsulation:2})}return t})();var W=["*"];function ee(t,s){if(t&1&&u(0,"img",2),t&2){let e=c();p("src",e.member().imageUrl,j)("alt",e.member().displayName+" photo")}}function te(t,s){if(t&1&&(a(0,"div",3),u(1,"ngx-avatar",5),o()),t&2){let e=c();r(),p("name",e.member().displayName)("size",e.isCurrent()?150:120)("round",!0)}}function ne(t,s){t&1&&(a(0,"div",7)(1,"div",14),u(2,"span",15),m(3," Active "),o()())}function ie(t,s){if(t&1&&(a(0,"span",11),m(1),o()),t&2){let e=c(2);r(),v(" ",e.calculateAge(e.member().dateOfBirth)," ")}}function re(t,s){t&1&&m(0,", ")}function oe(t,s){if(t&1&&(a(0,"div",12),P(),a(1,"svg",16),u(2,"path",17)(3,"path",18),o(),N(),a(4,"span",19),m(5),d(6,re,1,0),m(7),o()()),t&2){let e=c(2);r(5),v(" ",e.member().city),r(),l(e.member().city&&e.member().country?6:-1),r(),v("",e.member().country," ")}}function ae(t,s){if(t&1&&(a(0,"p",13),m(1),o()),t&2){let e=c(2);r(),v(" ",e.member().description," ")}}function se(t,s){if(t&1&&(u(0,"div",6),d(1,ne,4,0,"div",7),a(2,"div",8)(3,"div",9)(4,"h2",10),m(5),o(),d(6,ie,2,1,"span",11),o(),d(7,oe,8,3,"div",12),d(8,ae,2,1,"p",13),o()),t&2){let e=c();r(),l(e.member().lastActive?1:-1),r(4),v(" ",e.member().displayName," "),r(),l(e.member().dateOfBirth?6:-1),r(),l(e.member().city||e.member().country?7:-1),r(),l(e.member().description?8:-1)}}function me(t,s){t&1&&(a(0,"div",4)(1,"div",20),I(2),o()())}var X=(()=>{class t{member=b.required();isCurrent=b(!1);swipeDirection=b(null);stackIndex=b(0);calculateAge(e){let i=new Date(e),n=new Date,x=n.getFullYear()-i.getFullYear(),T=n.getMonth()-i.getMonth();return(T<0||T===0&&n.getDate()<i.getDate())&&x--,x}getStackTransform(){if(this.isCurrent())return"";let e=this.stackIndex();return`translateY(${e*8}px) scale(${1-e*.03}) translateZ(${-e*20}px)`}getStackZIndex(){return this.isCurrent()?20:10-this.stackIndex()}getStackOpacity(){return this.isCurrent()?1:1-this.stackIndex()*.2}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=g({type:t,selectors:[["app-match-card"]],inputs:{member:[1,"member"],isCurrent:[1,"isCurrent"],swipeDirection:[1,"swipeDirection"],stackIndex:[1,"stackIndex"]},ngContentSelectors:W,decls:6,vars:25,consts:[[1,"card","bg-base-100","shadow-xl","rounded-3xl","transform","transition-all","duration-300","overflow-hidden"],[1,"relative","h-[500px]","w-full","overflow-hidden","bg-gradient-to-br","from-primary/20","to-secondary/20"],[1,"w-full","h-full","object-cover","object-center",3,"src","alt"],[1,"w-full","h-full","flex","items-center","justify-center"],[1,"absolute","bottom-0","left-0","right-0","z-20","pointer-events-none"],[3,"name","size","round"],[1,"absolute","inset-0","bg-gradient-to-t","from-black/80","via-black/40","to-transparent"],[1,"absolute","top-4","right-4","z-10"],[1,"absolute","bottom-20","left-0","right-0","p-6","text-white","z-10"],[1,"flex","items-center","gap-3","mb-2"],[1,"text-3xl","font-bold","drop-shadow-lg"],[1,"text-xl","font-semibold","drop-shadow-lg"],[1,"flex","items-center","gap-2","mb-3","text-white/90"],[1,"text-white/90","text-sm","line-clamp-2","drop-shadow"],[1,"badge","badge-success","badge-lg","gap-2"],[1,"w-2","h-2","rounded-full","bg-white","animate-pulse"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 11a3 3 0 11-6 0 3 3 0 016 0z"],[1,"text-lg"],[1,"pointer-events-auto"]],template:function(i,n){i&1&&(D(),a(0,"div",0)(1,"figure",1),d(2,ee,1,2,"img",2)(3,te,2,3,"div",3),d(4,se,9,5),o(),d(5,me,3,0,"div",4),o()),i&2&&(F("transform",n.getStackTransform())("z-index",n.getStackZIndex())("opacity",n.getStackOpacity()),O("shadow-2xl",n.isCurrent())("cursor-grab",n.isCurrent())("active:cursor-grabbing",n.isCurrent())("swipe-left",n.swipeDirection()==="left")("swipe-right",n.swipeDirection()==="right")("relative",n.isCurrent())("absolute",!n.isCurrent())("inset-0",!n.isCurrent()),r(2),l(n.member().imageUrl?2:3),r(2),l(n.isCurrent()?4:-1),r(),l(n.isCurrent()?5:-1))},dependencies:[w,k,Z],styles:[`.swipe-left[_ngcontent-%COMP%]{transform:translate(-100%) rotate(-15deg);opacity:0}.swipe-right[_ngcontent-%COMP%]{transform:translate(100%) rotate(15deg);opacity:0}
/*# sourceMappingURL=match-card.component.css.map */`]})}return t})();var ce=[[["","reset-button",""]]],de=["[reset-button]"],le=(t,s)=>s.id;function pe(t,s){t&1&&(a(0,"div",1)(1,"div",3)(2,"div",4),m(3,"\u{1F4AB}"),o(),a(4,"h3",5),m(5,"You've seen everyone!"),o(),a(6,"p",6),m(7," Check back later for more matches or adjust your preferences. "),o(),I(8),o()())}function ue(t,s){if(t&1&&u(0,"app-match-card",7),t&2){let e=s.$implicit,i=s.$index;p("member",e)("isCurrent",!1)("stackIndex",i)}}function be(t,s){if(t&1){let e=S();a(0,"app-match-card",8)(1,"app-match-actions",9),h("onLike",function(){C(e);let n=c(2);return f(n.onLike.emit())})("onPass",function(){C(e);let n=c(2);return f(n.onPass.emit())}),o()()}if(t&2){let e=s,i=c(2);p("member",e)("isCurrent",!0)("swipeDirection",i.swipeDirection()),r(),p("memberId",e.id)("isAnimating",i.isAnimating())}}function ge(t,s){if(t&1&&(a(0,"div",2),V(1,ue,1,3,"app-match-card",7,le),d(3,be,2,5,"app-match-card",8),o()),t&2){let e,i=c();r(),z(i.upcomingMembers()),r(2),l((e=i.currentMember())?3:-1,e)}}var J=(()=>{class t{members=b.required();currentIndex=b.required();swipeDirection=b(null);isAnimating=b(!1);onLike=M();onPass=M();currentMember=b(null);upcomingMembers=b([]);get hasMoreCards(){return this.currentIndex()<this.members().length}get isStackEmpty(){return this.currentIndex()>=this.members().length}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=g({type:t,selectors:[["app-match-card-stack"]],inputs:{members:[1,"members"],currentIndex:[1,"currentIndex"],swipeDirection:[1,"swipeDirection"],isAnimating:[1,"isAnimating"],currentMember:[1,"currentMember"],upcomingMembers:[1,"upcomingMembers"]},outputs:{onLike:"onLike",onPass:"onPass"},ngContentSelectors:de,decls:3,vars:2,consts:[[1,"relative","min-h-[600px]","flex","items-center","justify-center"],[1,"card","bg-base-100","shadow-2xl","w-full","max-w-md"],[1,"relative","w-full","max-w-md","mx-auto",2,"perspective","1000px"],[1,"card-body","text-center","py-16"],[1,"text-6xl","mb-4"],[1,"text-2xl","font-bold","mb-2"],[1,"text-base-content/70","mb-6"],[3,"member","isCurrent","stackIndex"],[3,"member","isCurrent","swipeDirection"],[3,"onLike","onPass","memberId","isAnimating"]],template:function(i,n){i&1&&(D(ce),a(0,"div",0),d(1,pe,9,0,"div",1),d(2,ge,4,1,"div",2),o()),i&2&&(r(),l(n.isStackEmpty?1:-1),r(),l(n.hasMoreCards?2:-1))},dependencies:[w,X,G],encapsulation:2})}return t})();function he(t,s){if(t&1&&(a(0,"p",8),m(1),o()),t&2){let e=c();r(),$(" ",e.remainingMembers()," ",e.remainingMembers()===1?"person":"people"," remaining ")}}function Ce(t,s){t&1&&(a(0,"div",9)(1,"div",11),u(2,"span",12),a(3,"p",13),m(4,"Finding your matches..."),o()()())}function fe(t,s){if(t&1){let e=S();a(0,"app-match-card-stack",14),h("onLike",function(){C(e);let n=c();return f(n.onLike())})("onPass",function(){C(e);let n=c();return f(n.onPass())}),a(1,"button",15),h("click",function(){C(e);let n=c();return f(n.resetStack())}),m(2," Reset Stack "),o()()}if(t&2){let e=c();p("members",e.members())("currentIndex",e.currentIndex())("currentMember",e.currentMember())("upcomingMembers",e.upcomingMembers())("swipeDirection",e.swipeDirection())("isAnimating",e.isAnimating())}}var qe=(()=>{class t{peopleStore=E(H);members=y(()=>this.peopleStore.members());isInitialLoad=_(!0);currentIndex=_(0);swipedCards=_(new Set);swipeDirection=_(null);isAnimating=_(!1);sparklesIcon=U;currentMember=y(()=>{let e=this.members(),i=this.currentIndex();return e[i]||null});upcomingMembers=y(()=>this.members().slice(this.currentIndex()+1,this.currentIndex()+4));remainingMembers=y(()=>this.members().length-this.currentIndex());ngOnInit(){this.loadMembers()}loadMembers(){this.isInitialLoad.set(!0),this.peopleStore.getMembers({pageNumber:1,pageSize:20,searchTerm:""});let e=()=>{this.members().length>0?this.isInitialLoad.set(!1):setTimeout(e,100)};setTimeout(e,100)}onLike(){this.isAnimating()||!this.currentMember()||this.swipeCard("right")}onPass(){this.isAnimating()||!this.currentMember()||this.swipeCard("left")}swipeCard(e){let i=this.currentMember();if(!i)return;this.isAnimating.set(!0),this.swipeDirection.set(e);let n=new Set(this.swipedCards());n.add(i.id),this.swipedCards.set(n),setTimeout(()=>{this.currentIndex.update(x=>x+1),this.swipeDirection.set(null),this.isAnimating.set(!1),this.currentIndex()>=this.members().length-3&&this.loadMoreMembers()},300)}loadMoreMembers(){let e=this.peopleStore.pagination();e.currentPage<e.totalPages&&this.peopleStore.getMembers({pageNumber:e.currentPage+1,pageSize:20,searchTerm:""})}resetStack(){this.currentIndex.set(0),this.swipedCards.set(new Set),this.swipeDirection.set(null)}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=g({type:t,selectors:[["app-matches"]],decls:13,vars:5,consts:[[1,"min-h-screen","bg-gradient-to-br","from-primary/10","via-secondary/10","to-accent/10","py-8"],[1,"container","mx-auto","px-4","max-w-4xl"],[1,"text-center","mb-8"],[1,"flex","items-center","justify-center","gap-2","mb-4"],[1,"size-8","text-primary",3,"name"],[1,"text-4xl","md:text-5xl","font-bold","bg-gradient-to-r","from-primary","to-secondary","bg-clip-text","text-transparent"],[1,"size-8","text-secondary",3,"name"],[1,"text-base-content/70","text-lg"],[1,"text-sm","text-base-content/60","mt-2"],[1,"flex","items-center","justify-center","min-h-[600px]"],[3,"members","currentIndex","currentMember","upcomingMembers","swipeDirection","isAnimating"],[1,"text-center"],[1,"loading","loading-spinner","loading-lg","text-primary"],[1,"mt-4","text-base-content/70"],[3,"onLike","onPass","members","currentIndex","currentMember","upcomingMembers","swipeDirection","isAnimating"],["reset-button","",1,"btn","btn-primary",3,"click"]],template:function(i,n){i&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),u(4,"lucide-icon",4),a(5,"h1",5),m(6," Find Your Match "),o(),u(7,"lucide-icon",6),o(),a(8,"p",7),m(9," Swipe right to like, left to pass "),o(),d(10,he,2,2,"p",8),o(),d(11,Ce,5,0,"div",9),d(12,fe,3,6,"app-match-card-stack",10),o()()),i&2&&(r(4),p("name",n.sparklesIcon),r(3),p("name",n.sparklesIcon),r(3),l(n.remainingMembers()>0?10:-1),r(),l(n.isInitialLoad()&&n.members().length===0?11:-1),r(),l(n.members().length>0||!n.isInitialLoad()?12:-1))},dependencies:[w,k,A,J],encapsulation:2})}return t})();export{qe as MatchesComponent};
//# sourceMappingURL=chunk-XF6QUNS7.js.map
