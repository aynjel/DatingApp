import{a as W}from"./chunk-WJVA7YWW.js";import{j as J,k as K,m as Q}from"./chunk-PYPUOAOI.js";import{a as X}from"./chunk-S7KDQIES.js";import{A as $,C as T,D as P,d as O,e as R,h as H,i as U,n as B,q as Y}from"./chunk-4DA76ATU.js";import"./chunk-TPVZAPYQ.js";import"./chunk-XZSLKHTU.js";import"./chunk-QLGWID6J.js";import{d as z,f as j,g as q}from"./chunk-YAPC6UNN.js";import"./chunk-BNAZ6FXL.js";import"./chunk-PD326AGR.js";import{$a as o,Cb as V,Ga as f,Kb as S,Lb as k,Nb as M,Ob as x,R as w,Va as u,Wa as g,X as h,Y as b,Ya as L,Za as G,_a as c,ab as n,bb as _,fb as F,ga as v,ib as p,kb as m,rb as N,sb as l,tb as E,ub as y,va as D,vb as A,xa as r}from"./chunk-BENNHJVS.js";import"./chunk-GH7VMSIE.js";var ee=(()=>{class t{pagination=x.required();canGoPrevious=x(!1);canGoNext=x(!1);onPrevious=M();onNext=M();chevronLeftIcon=O;chevronRightIcon=R;static \u0275fac=function(a){return new(a||t)};static \u0275cmp=f({type:t,selectors:[["app-pagination"]],inputs:{pagination:[1,"pagination"],canGoPrevious:[1,"canGoPrevious"],canGoNext:[1,"canGoNext"]},outputs:{onPrevious:"onPrevious",onNext:"onNext"},decls:10,vars:10,consts:[[1,"flex","flex-col","sm:flex-row","items-center","justify-between","gap-4","mt-8"],[1,"text-sm","text-base-content/70"],[1,"join","grid","grid-cols-2"],[1,"join-item","btn","btn-outline",3,"click","disabled"],[1,"size-4",3,"name"]],template:function(a,i){a&1&&(o(0,"div",0)(1,"div",1),l(2),n(),o(3,"div",2)(4,"button",3),p("click",function(){return i.onPrevious.emit()}),_(5,"lucide-icon",4),l(6," Previous "),n(),o(7,"button",3),p("click",function(){return i.onNext.emit()}),_(8,"lucide-icon",4),l(9," Next "),n()()()),a&2&&(r(2),A(" Page ",i.pagination().currentPage," of ",i.pagination().totalPages," "),r(2),N("btn-disabled",!i.canGoPrevious()),c("disabled",!i.canGoPrevious()),r(),c("name",i.chevronLeftIcon),r(2),N("btn-disabled",!i.canGoNext()),c("disabled",!i.canGoNext()),r(),c("name",i.chevronRightIcon))},dependencies:[P,T],encapsulation:2})}return t})();var ne=t=>["/people/details",t];function oe(t,s){if(t&1&&_(0,"img",2),t&2){let e=m();c("src",e.member().imageUrl,D)("alt",e.member().displayName+" photo")}}function re(t,s){if(t&1&&(o(0,"div",3),_(1,"ngx-avatar",13),n()),t&2){let e=m();r(),c("name",e.member().displayName)("round",!0)}}function ae(t,s){t&1&&(o(0,"div",4)(1,"div",14),l(2,"Active"),n()())}function le(t,s){if(t&1&&(o(0,"div",8)(1,"span",15),l(2,"Age:"),n(),o(3,"span"),l(4),n()()),t&2){let e=m();r(4),y("",e.calculateAge(e.member().dateOfBirth)," years old")}}function me(t,s){t&1&&l(0,", ")}function ce(t,s){if(t&1&&(o(0,"div",8)(1,"span",15),l(2,"Location:"),n(),o(3,"span",16),l(4),u(5,me,1,0),l(6),n()()),t&2){let e=m();r(4),y(" ",e.member().city),r(),g(e.member().city&&e.member().country?5:-1),r(),y(" ",e.member().country," ")}}function se(t,s){if(t&1&&(o(0,"div",8)(1,"span",15),l(2,"Gender:"),n(),o(3,"span"),l(4),n()()),t&2){let e=m();r(4),E(e.member().gender)}}var te=(()=>{class t{heartIcon=U;messageIcon=B;member=x.required();calculateAge(e){let a=new Date(e),i=new Date,d=i.getFullYear()-a.getFullYear(),C=i.getMonth()-a.getMonth();return(C<0||C===0&&i.getDate()<a.getDate())&&d--,d}static \u0275fac=function(a){return new(a||t)};static \u0275cmp=f({type:t,selectors:[["app-member-card"]],inputs:{member:[1,"member"]},decls:17,vars:10,consts:[[1,"card","bg-base-100","shadow-lg","hover:shadow-xl","transition-all","duration-300","group"],[1,"relative","h-64","overflow-hidden","bg-base-200"],[1,"w-full","h-full","object-cover","group-hover:scale-110","transition-transform","duration-300",3,"src","alt"],[1,"w-full","h-full","flex","items-center","justify-center"],[1,"absolute","top-2","right-2"],[1,"card-body","p-4"],[1,"card-title","text-lg","mb-2","line-clamp-1"],[1,"space-y-1.5","text-sm","text-base-content/70"],[1,"flex","items-center","gap-2"],[1,"card-actions","justify-end","mt-4","gap-2"],[1,"btn","btn-primary","btn-sm","flex-1",3,"routerLink"],["title","Like",1,"btn","btn-ghost","btn-sm","btn-square",3,"click"],[1,"size-4",3,"name"],["size","120",3,"name","round"],[1,"badge","badge-success","badge-sm"],[1,"font-medium"],[1,"truncate"]],template:function(a,i){a&1&&(o(0,"div",0)(1,"figure",1),u(2,oe,1,2,"img",2)(3,re,2,2,"div",3),u(4,ae,3,0,"div",4),n(),o(5,"div",5)(6,"h2",6),l(7),n(),o(8,"div",7),u(9,le,5,1,"div",8),u(10,ce,7,3,"div",8),u(11,se,5,1,"div",8),n(),o(12,"div",9)(13,"a",10),l(14," View Profile "),n(),o(15,"button",11),p("click",function(C){return C.stopPropagation()}),_(16,"lucide-icon",12),n()()()()),a&2&&(r(2),g(i.member().imageUrl?2:3),r(2),g(i.member().lastActive?4:-1),r(3),y(" ",i.member().displayName," "),r(2),g(i.member().dateOfBirth?9:-1),r(),g(i.member().city||i.member().country?10:-1),r(),g(i.member().gender?11:-1),r(2),c("routerLink",V(8,ne,i.member().id)),r(3),c("name",i.heartIcon))},dependencies:[q,P,T,X],encapsulation:2})}return t})();function de(t,s){if(t&1){let e=F();o(0,"button",11),p("click",function(){h(e);let i=m();return b(i.onClearSearch())}),_(1,"lucide-icon",8),n()}if(t&2){let e=m();r(),c("name",e.xIcon)}}function pe(t,s){if(t&1&&(o(0,"span",9),l(1),n()),t&2){let e=m();r(),E(e.getActiveFilterCount())}}function ue(t,s){if(t&1){let e=F();o(0,"button",26),p("click",function(){h(e);let i=m(2);return b(i.onClearFilters())}),l(1," Clear Filters "),n()}}function ge(t,s){if(t&1){let e=F();o(0,"div",10)(1,"div",12)(2,"div")(3,"label",13)(4,"span",14),l(5,"Gender"),n()(),o(6,"select",15),p("change",function(i){h(e);let d=m();return d.genderFilter.set(i.target.value),b(d.onFilterChange())}),o(7,"option",16),l(8,"All"),n(),o(9,"option",17),l(10,"Male"),n(),o(11,"option",18),l(12,"Female"),n(),o(13,"option",19),l(14,"Other"),n()()(),o(15,"div")(16,"label",13)(17,"span",14),l(18,"Min Age"),n()(),o(19,"input",20),p("change",function(i){h(e);let d=m();return b(d.onMinAgeChange(i))}),n()(),o(20,"div")(21,"label",13)(22,"span",14),l(23,"Max Age"),n()(),o(24,"input",21),p("change",function(i){h(e);let d=m();return b(d.onMaxAgeChange(i))}),n()(),o(25,"div")(26,"label",13)(27,"span",14),l(28,"City"),n()(),o(29,"input",22),p("input",function(i){h(e);let d=m();return d.cityFilter.set(i.target.value),b(d.onFilterChange())}),n()(),o(30,"div")(31,"label",13)(32,"span",14),l(33,"Country"),n()(),o(34,"input",23),p("input",function(i){h(e);let d=m();return d.countryFilter.set(i.target.value),b(d.onFilterChange())}),n()(),o(35,"div",24),u(36,ue,2,0,"button",25),n()()()}if(t&2){let e=m();r(6),c("value",e.genderFilter()),r(13),c("value",e.minAgeFilter()),r(5),c("value",e.maxAgeFilter()),r(5),c("value",e.cityFilter()),r(5),c("value",e.countryFilter()),r(2),g(e.hasActiveFilters()?36:-1)}}var ie=(()=>{class t{searchIcon=Y;filterIcon=H;xIcon=$;searchTerm=x("");showFilters=v(!1);filterChanged=M();searchInput=v("");genderFilter=v("");minAgeFilter=v(void 0);maxAgeFilter=v(void 0);cityFilter=v("");countryFilter=v("");constructor(){k(()=>{this.searchInput.set(this.searchTerm())})}onSearch(){this.emitFilterChange()}onSearchInput(e){let a=e.target.value;this.searchInput.set(a),this.emitFilterChange()}onClearSearch(){this.searchInput.set(""),this.emitFilterChange()}toggleFilters(){this.showFilters.update(e=>!e)}onFilterChange(){this.emitFilterChange()}onClearFilters(){this.genderFilter.set(""),this.minAgeFilter.set(void 0),this.maxAgeFilter.set(void 0),this.cityFilter.set(""),this.countryFilter.set(""),this.emitFilterChange()}emitFilterChange(){let e={searchTerm:this.searchInput().trim(),gender:this.genderFilter()||void 0,minAge:this.minAgeFilter(),maxAge:this.maxAgeFilter(),city:this.cityFilter().trim()||void 0,country:this.countryFilter().trim()||void 0};this.filterChanged.emit(e)}hasActiveFilters(){return!!this.genderFilter()||!!this.minAgeFilter()||!!this.maxAgeFilter()||!!this.cityFilter()||!!this.countryFilter()}getActiveFilterCount(){let e=0;return this.genderFilter()&&e++,this.minAgeFilter()&&e++,this.maxAgeFilter()&&e++,this.cityFilter()&&e++,this.countryFilter()&&e++,e}onMinAgeChange(e){let a=e.target.value;this.minAgeFilter.set(a?+a:void 0),this.onFilterChange()}onMaxAgeChange(e){let a=e.target.value;this.maxAgeFilter.set(a?+a:void 0),this.onFilterChange()}static \u0275fac=function(a){return new(a||t)};static \u0275cmp=f({type:t,selectors:[["app-people-filter"]],inputs:{searchTerm:[1,"searchTerm"]},outputs:{filterChanged:"filterChanged"},decls:12,vars:8,consts:[[1,"card","bg-base-100","shadow-lg","mb-6"],[1,"card-body","p-4"],[1,"flex","gap-3","mb-4"],[1,"flex-1","relative"],[1,"absolute","left-3","top-1/2","-translate-y-1/2","size-5","text-base-content/40",3,"name"],["type","text","placeholder","Search by name, location, or interests...",1,"input","input-bordered","w-full","pl-10","pr-10",3,"input","value"],[1,"absolute","right-2","top-1/2","-translate-y-1/2","btn","btn-ghost","btn-xs","btn-circle"],[1,"btn","btn-outline","gap-2",3,"click"],[1,"size-4",3,"name"],[1,"badge","badge-primary","badge-sm"],[1,"border-t","border-base-300","pt-4","mt-4"],[1,"absolute","right-2","top-1/2","-translate-y-1/2","btn","btn-ghost","btn-xs","btn-circle",3,"click"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-4"],[1,"label"],[1,"label-text","font-medium"],[1,"select","select-bordered","w-full",3,"change","value"],["value",""],["value","Male"],["value","Female"],["value","Other"],["type","number","placeholder","18","min","18","max","100",1,"input","input-bordered","w-full",3,"change","value"],["type","number","placeholder","100","min","18","max","100",1,"input","input-bordered","w-full",3,"change","value"],["type","text","placeholder","Enter city",1,"input","input-bordered","w-full",3,"input","value"],["type","text","placeholder","Enter country",1,"input","input-bordered","w-full",3,"input","value"],[1,"flex","items-end"],[1,"btn","btn-ghost","btn-sm","w-full"],[1,"btn","btn-ghost","btn-sm","w-full",3,"click"]],template:function(a,i){a&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),_(4,"lucide-icon",4),o(5,"input",5),p("input",function(C){return i.onSearchInput(C)}),n(),u(6,de,2,1,"button",6),n(),o(7,"button",7),p("click",function(){return i.toggleFilters()}),_(8,"lucide-icon",8),l(9," Filters "),u(10,pe,2,1,"span",9),n()(),u(11,ge,37,6,"div",10),n()()),a&2&&(r(4),c("name",i.searchIcon),r(),c("value",i.searchInput()),r(),g(i.searchInput()?6:-1),r(),N("btn-primary",i.showFilters()||i.hasActiveFilters()),r(),c("name",i.filterIcon),r(2),g(i.hasActiveFilters()?10:-1),r(),g(i.showFilters()?11:-1))},dependencies:[Q,J,K,P,T],encapsulation:2})}return t})();var _e=(t,s)=>s.id;function he(t,s){if(t&1&&l(0),t&2){let e=m();y(' Search results for "',e.searchTerm(),'" ')}}function be(t,s){if(t&1&&l(0),t&2){let e=m();A(" Showing ",e.members().length," of ",e.pagination().totalItems," members ")}}function ve(t,s){if(t&1&&_(0,"app-member-card",8),t&2){let e=s.$implicit;c("member",e)}}function Ce(t,s){if(t&1&&(o(0,"div",5),L(1,ve,1,1,"app-member-card",8,_e),n()),t&2){let e=m();r(),G(e.members())}}function fe(t,s){t&1&&l(0," Try adjusting your search or filter criteria ")}function xe(t,s){t&1&&l(0," There are no members available at the moment ")}function Fe(t,s){if(t&1){let e=F();o(0,"button",14),p("click",function(){h(e);let i=m(2);return b(i.onFilterChange({searchTerm:""}))}),l(1," Clear Filters "),n()}}function ye(t,s){if(t&1&&(o(0,"div",6)(1,"div",9)(2,"div",10),l(3,"\u{1F50D}"),n(),o(4,"h3",11),l(5,"No members found"),n(),o(6,"p",12),u(7,fe,1,0)(8,xe,1,0),n(),u(9,Fe,2,0,"button",13),n()()),t&2){let e=m();r(7),g(e.searchTerm()||e.currentFilters().gender||e.currentFilters().city?7:8),r(2),g(e.searchTerm()||e.currentFilters().gender||e.currentFilters().city?9:-1)}}function Se(t,s){if(t&1){let e=F();o(0,"div",7)(1,"app-pagination",15),p("onPrevious",function(){h(e);let i=m();return b(i.goToPrevious())})("onNext",function(){h(e);let i=m();return b(i.goToNext())}),n()()}if(t&2){let e=m();r(),c("pagination",e.pagination())("canGoPrevious",e.canGoPrevious())("canGoNext",e.canGoNext())}}var Xe=(()=>{class t{peopleStore=w(W);route=w(z);router=w(j);members=S(()=>this.peopleStore.members());pagination=S(()=>this.peopleStore.pagination());searchTerm=S(()=>this.peopleStore.searchTerm());pageNumber=v(1);pageSize=v(12);currentFilters=v({searchTerm:""});canGoPrevious=S(()=>this.pagination().currentPage>1);canGoNext=S(()=>this.pagination().currentPage<this.pagination().totalPages);ngOnInit(){this.route.queryParams.subscribe(e=>{let a=e.pageNumber?Number(e.pageNumber):1,i=e.pageSize?Number(e.pageSize):this.pageSize();this.pageNumber.set(a),this.pageSize.set(i),this.fetchMembers()})}fetchMembers(){let e=this.currentFilters();this.peopleStore.getMembers({pageNumber:this.pageNumber(),pageSize:this.pageSize(),searchTerm:e.searchTerm})}onFilterChange(e){this.currentFilters.set(e),this.pageNumber.set(1),this.router.navigate([],{relativeTo:this.route,queryParams:{pageNumber:1,pageSize:this.pageSize()},queryParamsHandling:"merge"})}onPageChange(e){this.router.navigate([],{relativeTo:this.route,queryParams:{pageNumber:e,pageSize:this.pageSize()},queryParamsHandling:"merge"})}goToPrevious(){this.canGoPrevious()&&this.onPageChange(this.pagination().currentPage-1)}goToNext(){this.canGoNext()&&this.onPageChange(this.pagination().currentPage+1)}static \u0275fac=function(a){return new(a||t)};static \u0275cmp=f({type:t,selectors:[["app-lists"]],decls:11,vars:4,consts:[[1,"container","mx-auto","p-4","md:p-6"],[1,"mb-6"],[1,"text-3xl","md:text-4xl","font-bold","mb-2"],[1,"text-base-content/70"],[3,"filterChanged","searchTerm"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","xl:grid-cols-4","gap-6","mb-8"],[1,"card","bg-base-100","shadow-lg"],[1,"mt-8"],[3,"member"],[1,"card-body","text-center","py-16"],[1,"text-6xl","mb-4"],[1,"text-2xl","font-bold","mb-2"],[1,"text-base-content/70","mb-4"],[1,"btn","btn-primary"],[1,"btn","btn-primary",3,"click"],[3,"onPrevious","onNext","pagination","canGoPrevious","canGoNext"]],template:function(a,i){a&1&&(o(0,"div",0)(1,"div",1)(2,"h1",2),l(3,"Discover People"),n(),o(4,"p",3),u(5,he,1,1)(6,be,1,2),n()(),o(7,"app-people-filter",4),p("filterChanged",function(C){return i.onFilterChange(C)}),n(),u(8,Ce,3,0,"div",5)(9,ye,10,2,"div",6),u(10,Se,2,3,"div",7),n()),a&2&&(r(5),g(i.searchTerm()?5:6),r(2),c("searchTerm",i.searchTerm()),r(),g(i.members().length>0?8:9),r(2),g(i.pagination().totalPages>1?10:-1))},dependencies:[te,ie,ee],encapsulation:2})}return t})();export{Xe as ListsComponent};
//# sourceMappingURL=chunk-XT3PKENN.js.map
