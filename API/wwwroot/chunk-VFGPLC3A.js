import{a as R,b as _,c as V,d as I,f as j,g as A,h as q,l as O,n as z}from"./chunk-PYPUOAOI.js";import{a as B}from"./chunk-CBF35FRT.js";import"./chunk-4RSQC63I.js";import{a as L,k as N,l as G}from"./chunk-XZSLKHTU.js";import"./chunk-QLGWID6J.js";import{g as M}from"./chunk-YAPC6UNN.js";import"./chunk-BNAZ6FXL.js";import{i as D}from"./chunk-PD326AGR.js";import{$a as r,Db as E,Eb as T,Ga as f,Kb as v,R as m,Va as g,Wa as w,Xa as b,Ya as x,Z as S,Za as C,_ as h,_a as F,ab as n,bb as p,ib as P,kb as y,rb as k,sb as a,xa as d}from"./chunk-BENNHJVS.js";import"./chunk-GH7VMSIE.js";function $(e,s){e&1&&a(0," Email is required. ")}function J(e,s){e&1&&a(0," Invalid email format. ")}function Q(e,s){if(e&1&&g(0,$,1,0)(1,J,1,0),e&2){let i,t=s.$implicit;w((i=t.key)==="required"?0:i==="email"?1:-1)}}function U(e,s){if(e&1&&(r(0,"p",3),x(1,Q,2,1,null,null,b),E(3,"keyvalue"),n()),e&2){let i,t=y();d(),C(T(3,0,(i=t.forgotPasswordForm.get("email"))==null?null:i.errors))}}function W(e,s){e&1&&(r(0,"div",4),S(),r(1,"svg",5),p(2,"path",6),n(),h(),r(3,"span"),a(4,"If an account exists with this email, we've sent password reset instructions."),n()())}var H=(()=>{class e{globalStore=m(G);authService=m(B);toastService=m(L);formBuilder=m(O);isLoading=v(()=>this.globalStore.isSubmitting());isSubmitted=v(()=>this.globalStore.isSubmitting()===!1&&this.forgotPasswordForm.touched);forgotPasswordForm=this.formBuilder.group({email:["",[_.required,_.email]]});onSubmit(){if(this.forgotPasswordForm.invalid){this.forgotPasswordForm.markAllAsTouched();return}let i=this.forgotPasswordForm.getRawValue();this.globalStore.withFormSubmission(t=>this.authService.forgotPassword(t.email).pipe(N({next:()=>{this.toastService.show("Password reset instructions sent to your email","success"),this.forgotPasswordForm.reset()},error:o=>{console.error("Forgot password error:",o),this.toastService.show("If an account exists with this email, we've sent password reset instructions.","info")}})))({data:{email:i.email}})}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=f({type:e,selectors:[["app-forgot-password-form"]],decls:5,vars:8,consts:[[3,"ngSubmit","formGroup"],[1,"flex","flex-col","gap-3"],["type","email","formControlName","email","placeholder","Email",1,"input","input-bordered","w-full",3,"readOnly"],[1,"text-error","text-[14px]"],[1,"alert","alert-success"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"stroke-current","shrink-0","h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"]],template:function(t,o){if(t&1&&(r(0,"form",0),P("ngSubmit",function(){return o.onSubmit()}),r(1,"div",1),p(2,"input",2),g(3,U,4,2,"p",3),g(4,W,5,0,"div",4),n()()),t&2){let l,u,c;F("formGroup",o.forgotPasswordForm),d(2),k("input-error",((l=o.forgotPasswordForm.get("email"))==null?null:l.invalid)&&((l=o.forgotPasswordForm.get("email"))==null?null:l.touched))("input-success",((u=o.forgotPasswordForm.get("email"))==null?null:u.valid)&&((u=o.forgotPasswordForm.get("email"))==null?null:u.touched)),F("readOnly",o.isLoading()),d(),w((c=o.forgotPasswordForm.get("email"))!=null&&c.invalid&&((c=o.forgotPasswordForm.get("email"))!=null&&c.touched)?3:-1),d(),w(o.isSubmitted()&&!o.isLoading()?4:-1)}},dependencies:[z,j,R,V,I,A,q,D],encapsulation:2})}return e})();var me=(()=>{class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=f({type:e,selectors:[["app-forgot-password"]],decls:18,vars:0,consts:[["forgotPasswordFormRef",""],[1,"min-h-screen","flex","items-center","justify-center","bg-gradient-to-br","from-base-200","via-base-100","to-base-200","py-12","px-4"],[1,"card","w-full","max-w-md","shadow-2xl","bg-base-100"],[1,"card-body"],[1,"card-title","text-3xl","justify-center","mb-2"],[1,"text-center","text-base-content/70","mb-6"],[1,"divider"],[1,"text-center","space-y-2"],["routerLink","/auth/login",1,"link","link-primary","text-sm"],[1,"text-sm","text-base-content/70"],["routerLink","/auth/register",1,"link","link-primary","ml-1"]],template:function(t,o){t&1&&(r(0,"div",1)(1,"div",2)(2,"div",3)(3,"h2",4),a(4,"Forgot Password"),n(),r(5,"p",5),a(6," Enter your email address and we'll send you instructions to reset your password. "),n(),p(7,"app-forgot-password-form",null,0),r(9,"div",6),a(10,"OR"),n(),r(11,"div",7)(12,"a",8),a(13," Back to Sign In "),n(),r(14,"p",9),a(15," Don't have an account? "),r(16,"a",10),a(17," Sign up "),n()()()()()())},dependencies:[H,M],encapsulation:2})}return e})();export{me as ForgotPasswordComponent};
//# sourceMappingURL=chunk-VFGPLC3A.js.map
