{
  "version": 3,
  "sources": ["src/app/modules/message/components/conversation-list/conversation-list.component.ts", "src/app/modules/message/components/conversation-list/conversation-list.component.html", "src/app/modules/message/components/message-input/message-input.component.ts", "src/app/modules/message/components/message-input/message-input.component.html", "src/app/modules/message/components/message-thread/message-thread.component.ts", "src/app/modules/message/components/message-thread/message-thread.component.html", "src/app/modules/message/services/message.service.ts", "src/app/modules/message/store/message.store.ts", "src/app/modules/message/pages/inbox/inbox.component.ts", "src/app/modules/message/pages/inbox/inbox.component.html"],
  "sourcesContent": ["import { Component, input, output } from '@angular/core';\nimport { LucideAngularModule, MessageCircleIcon } from 'lucide-angular';\nimport { AvatarComponent } from 'ngx-avatar-2';\nimport { Conversation } from '../../../../shared/models/message.model';\n\n@Component({\n  selector: 'app-conversation-list',\n  imports: [LucideAngularModule, AvatarComponent],\n  templateUrl: './conversation-list.component.html',\n})\nexport class ConversationListComponent {\n  readonly messageIcon = MessageCircleIcon;\n\n  conversations = input.required<Conversation[]>();\n  selectedConversationId = input<string | null>(null);\n  conversationSelected = output<string>();\n\n  onConversationClick(conversationId: string): void {\n    this.conversationSelected.emit(conversationId);\n  }\n\n  getLastMessageTime(date?: string): string {\n    if (!date) return '';\n    const messageDate = new Date(date);\n    const now = new Date();\n    const diffInMs = now.getTime() - messageDate.getTime();\n    const diffInDays = Math.floor(diffInMs / (1000 * 60 * 60 * 24));\n\n    if (diffInDays === 0) {\n      return messageDate.toLocaleTimeString('en-US', {\n        hour: 'numeric',\n        minute: '2-digit',\n      });\n    } else if (diffInDays === 1) {\n      return 'Yesterday';\n    } else if (diffInDays < 7) {\n      return `${diffInDays} days ago`;\n    } else {\n      return messageDate.toLocaleDateString('en-US', {\n        month: 'short',\n        day: 'numeric',\n      });\n    }\n  }\n}\n", "<div class=\"flex flex-col h-full\">\n  <div class=\"p-4 border-b border-base-300\">\n    <h2 class=\"text-2xl font-bold\">Messages</h2>\n  </div>\n\n  <div class=\"flex-1 overflow-y-auto\">\n    @if (conversations().length > 0) {\n    <div class=\"divide-y divide-base-300\">\n      @for (conversation of conversations(); track conversation.id) {\n      <button\n        (click)=\"onConversationClick(conversation.id)\"\n        class=\"w-full p-4 hover:bg-base-200 transition-colors text-left\"\n        [class.bg-base-200]=\"selectedConversationId() === conversation.id\"\n      >\n        <div class=\"flex items-center gap-3\">\n          <div class=\"relative\">\n            <div class=\"avatar\">\n              <div\n                class=\"w-12 h-12 rounded-full ring ring-primary ring-offset-base-100 ring-offset-1\"\n              >\n                @if (conversation.otherUserImageUrl) {\n                <img\n                  [src]=\"conversation.otherUserImageUrl\"\n                  [alt]=\"conversation.otherUserDisplayName + ' photo'\"\n                  class=\"w-full h-full object-cover rounded-full\"\n                />\n                } @else {\n                <ngx-avatar\n                  [name]=\"conversation.otherUserDisplayName\"\n                  size=\"48\"\n                  [round]=\"true\"\n                />\n                }\n              </div>\n            </div>\n            @if (conversation.isOnline) {\n            <span\n              class=\"absolute bottom-0 right-0 w-3 h-3 bg-success rounded-full border-2 border-base-100\"\n            ></span>\n            }\n          </div>\n\n          <div class=\"flex-1 min-w-0\">\n            <div class=\"flex items-center justify-between mb-1\">\n              <h3 class=\"font-semibold text-base truncate\">\n                {{ conversation.otherUserDisplayName }}\n              </h3>\n              @if (conversation.lastMessageDate) {\n              <span class=\"text-xs text-base-content/60 ml-2\">\n                {{ getLastMessageTime(conversation.lastMessageDate) }}\n              </span>\n              }\n            </div>\n            <div class=\"flex items-center justify-between\">\n              <p\n                class=\"text-sm text-base-content/70 truncate\"\n                [class.font-semibold]=\"conversation.unreadCount > 0\"\n              >\n                {{ conversation.lastMessage || \"No messages yet\" }}\n              </p>\n              @if (conversation.unreadCount > 0) {\n              <span class=\"badge badge-primary badge-sm ml-2 flex-shrink-0\">\n                {{ conversation.unreadCount }}\n              </span>\n              }\n            </div>\n          </div>\n        </div>\n      </button>\n      }\n    </div>\n    } @else {\n    <div\n      class=\"flex flex-col items-center justify-center h-full p-8 text-center\"\n    >\n      <lucide-icon\n        [name]=\"messageIcon\"\n        class=\"size-16 text-base-content/30 mb-4\"\n      />\n      <p class=\"text-base-content/70 text-lg mb-2\">No conversations yet</p>\n      <p class=\"text-base-content/50 text-sm\">\n        Start a conversation with someone you like!\n      </p>\n    </div>\n    }\n  </div>\n</div>\n", "import {\n  Component,\n  effect,\n  ElementRef,\n  output,\n  signal,\n  viewChild,\n} from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { LucideAngularModule, PaperclipIcon, SendIcon } from 'lucide-angular';\n\n@Component({\n  selector: 'app-message-input',\n  imports: [FormsModule, LucideAngularModule],\n  templateUrl: './message-input.component.html',\n})\nexport class MessageInputComponent {\n  readonly sendIcon = SendIcon;\n  readonly paperclipIcon = PaperclipIcon;\n\n  messageSent = output<string>();\n\n  messageContent = signal('');\n  textareaRef = viewChild<ElementRef<HTMLTextAreaElement>>('textarea');\n\n  constructor() {\n    // Auto-resize textarea effect\n    effect(() => {\n      const textarea = this.textareaRef()?.nativeElement;\n      if (textarea) {\n        this.adjustTextareaHeight(textarea);\n      }\n    });\n  }\n\n  onSend(): void {\n    const content = this.messageContent().trim();\n    if (content) {\n      this.messageSent.emit(content);\n      this.messageContent.set('');\n      // Reset textarea height after sending\n      const textarea = this.textareaRef()?.nativeElement;\n      if (textarea) {\n        textarea.style.height = 'auto';\n      }\n    }\n  }\n\n  onKeyPress(event: KeyboardEvent): void {\n    if (event.key === 'Enter' && !event.shiftKey) {\n      event.preventDefault();\n      this.onSend();\n    }\n  }\n\n  onInput(event: Event): void {\n    const textarea = event.target as HTMLTextAreaElement;\n    this.adjustTextareaHeight(textarea);\n  }\n\n  private adjustTextareaHeight(textarea: HTMLTextAreaElement): void {\n    textarea.style.height = 'auto';\n    const maxHeight = 120; // Maximum height in pixels (about 5-6 lines)\n    const scrollHeight = textarea.scrollHeight;\n    textarea.style.height = `${Math.min(scrollHeight, maxHeight)}px`;\n    textarea.style.overflowY = scrollHeight > maxHeight ? 'auto' : 'hidden';\n  }\n\n  get hasContent(): boolean {\n    return this.messageContent().trim().length > 0;\n  }\n}\n", "<div class=\"flex items-end gap-2\">\n  <!-- Attachment Button (Optional) -->\n  <button\n    type=\"button\"\n    class=\"bottom-2 btn btn-ghost btn-sm btn-circle flex-shrink-0 hover:bg-base-200 transition-colors\"\n    title=\"Attach file\"\n  >\n    <lucide-icon [name]=\"paperclipIcon\" class=\"size-5\" />\n  </button>\n\n  <!-- Message Input Container -->\n  <div class=\"flex-1 relative bg-base-100 rounded-2xl border border-base-300\">\n    <textarea\n      #textarea\n      [(ngModel)]=\"messageContent\"\n      (keydown)=\"onKeyPress($event)\"\n      (input)=\"onInput($event)\"\n      placeholder=\"Type a message...\"\n      class=\"textarea textarea-ghost w-full resize-none min-h-[44px] max-h-[120px] pr-12 border-0 bg-transparent\"\n      rows=\"1\"\n    ></textarea>\n\n    <!-- Send Button (Inside textarea area) -->\n    <button\n      type=\"button\"\n      (click)=\"onSend()\"\n      class=\"absolute right-2 bottom-2 btn btn-primary btn-sm btn-circle flex-shrink-0 transition-all shadow-md hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed\"\n      [disabled]=\"!hasContent\"\n      title=\"Send message (Enter)\"\n    >\n      <lucide-icon [name]=\"sendIcon\" class=\"size-4\" />\n    </button>\n  </div>\n</div>\n", "import { DatePipe } from '@angular/common';\nimport { Component, input, output } from '@angular/core';\nimport { ArrowLeftIcon, LucideAngularModule, SendIcon } from 'lucide-angular';\nimport { AvatarComponent } from 'ngx-avatar-2';\nimport { Message } from '../../../../shared/models/message.model';\nimport { MessageInputComponent } from '../message-input/message-input.component';\n\n@Component({\n  selector: 'app-message-thread',\n  imports: [\n    DatePipe,\n    LucideAngularModule,\n    AvatarComponent,\n    MessageInputComponent,\n  ],\n  templateUrl: './message-thread.component.html',\n})\nexport class ThreadComponent {\n  readonly arrowLeftIcon = ArrowLeftIcon;\n  readonly sendIcon = SendIcon;\n\n  messages = input.required<Message[]>();\n  currentUserId = input.required<string>();\n  otherUserDisplayName = input.required<string>();\n  otherUserImageUrl = input<string | undefined>(undefined);\n  isOnline = input<boolean>(false);\n  lastActive = input<string | undefined>(undefined);\n\n  messageSent = output<string>();\n  goBack = output<void>();\n\n  onGoBack(): void {\n    this.goBack.emit();\n  }\n\n  onMessageSent(content: string): void {\n    this.messageSent.emit(content);\n  }\n\n  isMessageFromCurrentUser(message: Message): boolean {\n    return message.senderId === this.currentUserId();\n  }\n\n  getLastActiveText(lastActive?: string): string {\n    if (!lastActive) return '';\n    const lastActiveDate = new Date(lastActive);\n    const now = new Date();\n    const diffInMs = now.getTime() - lastActiveDate.getTime();\n    const diffInDays = Math.floor(diffInMs / (1000 * 60 * 60 * 24));\n\n    if (diffInDays === 0) {\n      return 'Active today';\n    } else if (diffInDays === 1) {\n      return 'Active yesterday';\n    } else if (diffInDays < 7) {\n      return `Active ${diffInDays} days ago`;\n    } else if (diffInDays < 30) {\n      const weeks = Math.floor(diffInDays / 7);\n      return `Active ${weeks} week${weeks > 1 ? 's' : ''} ago`;\n    } else {\n      const months = Math.floor(diffInDays / 30);\n      return `Active ${months} month${months > 1 ? 's' : ''} ago`;\n    }\n  }\n}\n", "<div class=\"flex flex-col h-full\">\n  <!-- Header -->\n  <div class=\"p-4 border-b border-base-300 bg-base-100\">\n    <div class=\"flex items-center gap-3\">\n      <button (click)=\"onGoBack()\" class=\"btn btn-ghost btn-sm btn-circle\">\n        <lucide-icon [name]=\"arrowLeftIcon\" class=\"size-5\" />\n      </button>\n      <div class=\"relative\">\n        <div class=\"avatar\">\n          <div\n            class=\"w-10 h-10 rounded-full ring ring-primary ring-offset-base-100 ring-offset-1\"\n          >\n            @if (otherUserImageUrl()) {\n            <img\n              [src]=\"otherUserImageUrl()!\"\n              [alt]=\"otherUserDisplayName() + ' photo'\"\n              class=\"w-full h-full object-cover rounded-full\"\n            />\n            } @else {\n            <ngx-avatar\n              [name]=\"otherUserDisplayName()\"\n              size=\"40\"\n              [round]=\"true\"\n            />\n            }\n          </div>\n        </div>\n        @if (isOnline()) {\n        <span\n          class=\"absolute bottom-0 right-0 w-3 h-3 bg-success rounded-full border-2 border-base-100\"\n        ></span>\n        }\n      </div>\n      <div class=\"flex-1\">\n        <h2 class=\"font-semibold text-lg\">{{ otherUserDisplayName() }}</h2>\n        @if (isOnline()) {\n        <p class=\"text-xs text-success\">Online</p>\n        } @else if (lastActive()) {\n        <p class=\"text-xs text-base-content/60\">\n          {{ getLastActiveText(lastActive()) }}\n        </p>\n        }\n      </div>\n    </div>\n  </div>\n\n  <!-- Messages -->\n  <div class=\"flex-1 overflow-y-auto p-4 space-y-3 bg-base-200\">\n    @for (message of messages(); track message.id) {\n    <div\n      class=\"flex\"\n      [class.justify-end]=\"isMessageFromCurrentUser(message)\"\n      [class.justify-start]=\"!isMessageFromCurrentUser(message)\"\n    >\n      <div\n        class=\"flex gap-2 max-w-[75%]\"\n        [class.flex-row-reverse]=\"isMessageFromCurrentUser(message)\"\n      >\n        <!-- Avatar (only for received messages) -->\n        @if (!isMessageFromCurrentUser(message)) {\n        <div class=\"avatar flex-shrink-0\">\n          <div class=\"w-8 h-8 rounded-full\">\n            @if (message.senderImageUrl) {\n            <img\n              [src]=\"message.senderImageUrl\"\n              [alt]=\"message.senderDisplayName + ' photo'\"\n              class=\"w-full h-full object-cover rounded-full\"\n            />\n            } @else {\n            <ngx-avatar\n              [name]=\"message.senderDisplayName\"\n              size=\"32\"\n              [round]=\"true\"\n            />\n            }\n          </div>\n        </div>\n        }\n\n        <!-- Message Bubble -->\n        <div\n          class=\"rounded-2xl px-4 py-2 shadow-sm\"\n          [class.bg-primary]=\"isMessageFromCurrentUser(message)\"\n          [class.text-primary-content]=\"isMessageFromCurrentUser(message)\"\n          [class.bg-base-100]=\"!isMessageFromCurrentUser(message)\"\n          [class.text-base-content]=\"!isMessageFromCurrentUser(message)\"\n          [class.rounded-br-md]=\"isMessageFromCurrentUser(message)\"\n          [class.rounded-bl-md]=\"!isMessageFromCurrentUser(message)\"\n        >\n          <p class=\"text-sm whitespace-pre-wrap break-words leading-relaxed\">\n            {{ message.content }}\n          </p>\n          <div class=\"text-xs mt-1.5 flex items-center gap-1.5 justify-end\">\n            <span class=\"text-[10px]\">\n              {{ message.messageSent | date : \"shortTime\" }}\n            </span>\n            @if (isMessageFromCurrentUser(message)) { @if (message.dateRead) {\n            <span class=\"text-primary-content/80\" title=\"Read\">\n              <svg class=\"w-3.5 h-3.5\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                <path\n                  fill-rule=\"evenodd\"\n                  d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\"\n                  clip-rule=\"evenodd\"\n                />\n              </svg>\n            </span>\n            } @else {\n            <span class=\"text-primary-content/60\" title=\"Sent\">\n              <svg class=\"w-3.5 h-3.5\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                <path\n                  fill-rule=\"evenodd\"\n                  d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\"\n                  clip-rule=\"evenodd\"\n                />\n              </svg>\n            </span>\n            } }\n          </div>\n        </div>\n      </div>\n    </div>\n    } @empty {\n    <div class=\"flex items-center justify-center h-full\">\n      <p class=\"text-base-content/60\">\n        No messages yet. Start the conversation!\n      </p>\n    </div>\n    }\n  </div>\n\n  <!-- Message Input -->\n  <div class=\"p-4 border-t border-base-300 bg-base-100 shadow-lg\">\n    <app-message-input (messageSent)=\"onMessageSent($event)\" />\n  </div>\n</div>\n", "import { HttpClient, HttpParams } from '@angular/common/http';\r\nimport { inject, Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { environment } from '../../../../environments/environment';\r\nimport { APIEndpoints } from '../../../shared/constants/api-endpoints.const';\r\nimport { PaginationParams } from '../../../shared/models/common-models';\r\nimport { Conversation, Message } from '../../../shared/models/message.model';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class MessageService {\r\n  private http = inject(HttpClient);\r\n  private readonly baseUrl = environment.apiUrl + APIEndpoints.MESSAGES;\r\n\r\n  getMessages(params?: PaginationParams): Observable<Message[]> {\r\n    let queryParams = new HttpParams();\r\n    if (params) {\r\n      queryParams = queryParams.append(\r\n        'pageNumber',\r\n        params.pageNumber.toString()\r\n      );\r\n      queryParams = queryParams.append('pageSize', params.pageSize.toString());\r\n    }\r\n    return this.http.get<Message[]>(this.baseUrl, { params: queryParams });\r\n  }\r\n\r\n  getConversations(params?: PaginationParams): Observable<Conversation[]> {\r\n    let queryParams = new HttpParams();\r\n    if (params) {\r\n      queryParams = queryParams.append(\r\n        'pageNumber',\r\n        params.pageNumber.toString()\r\n      );\r\n      queryParams = queryParams.append('pageSize', params.pageSize.toString());\r\n    }\r\n    return this.http.get<Conversation[]>(this.baseUrl, { params: queryParams });\r\n  }\r\n\r\n  sendMessage(message: Message): Observable<Message> {\r\n    return this.http.post<Message>(this.baseUrl, message);\r\n  }\r\n}\r\n", "import { HttpErrorResponse } from '@angular/common/http';\nimport { inject } from '@angular/core';\nimport { tapResponse } from '@ngrx/operators';\nimport {\n  patchState,\n  signalStore,\n  withMethods,\n  withProps,\n  withState,\n} from '@ngrx/signals';\nimport { PaginationParams } from '../../../shared/models/common-models';\nimport { Conversation, Message } from '../../../shared/models/message.model';\nimport { ToastService } from '../../../shared/services/toast.service';\nimport { GlobalStore } from '../../../shared/store/global.store';\nimport { MessageService } from '../services/message.service';\n\ntype MessageStoreType = {\n  conversations: Conversation[];\n  messages: Message[];\n  selectedConversationId: string | null;\n};\n\nconst initialState: MessageStoreType = {\n  conversations: [],\n  messages: [],\n  selectedConversationId: null,\n};\n\nexport const MessageStore = signalStore(\n  { providedIn: 'root' },\n  withState(initialState),\n  withProps(() => ({\n    globalStore: inject(GlobalStore),\n    messageService: inject(MessageService),\n    toastService: inject(ToastService),\n  })),\n  withMethods((store) => {\n    const getConversations = store.globalStore.withApiState<\n      PaginationParams,\n      Conversation[]\n    >(() =>\n      store.messageService.getConversations().pipe(\n        tapResponse({\n          next: (response) => {\n            patchState(store, { conversations: response });\n          },\n          error: (error: HttpErrorResponse) => {\n            store.toastService.show('Failed to get conversations', 'error');\n          },\n        })\n      )\n    );\n\n    const getMessages = store.globalStore.withApiState<\n      PaginationParams,\n      Message[]\n    >(() =>\n      store.messageService.getMessages().pipe(\n        tapResponse({\n          next: (response) => {\n            patchState(store, { messages: response });\n          },\n          error: (error: HttpErrorResponse) => {\n            store.toastService.show('Failed to get messages', 'error');\n          },\n        })\n      )\n    );\n\n    const sendMessage = store.globalStore.withFormSubmission<Message, Message>(\n      (payload) =>\n        store.messageService.sendMessage(payload).pipe(\n          tapResponse({\n            next: (response) => {\n              patchState(store, { messages: [...store.messages(), response] });\n              store.toastService.show('Message sent successfully', 'success');\n            },\n            error: (error: HttpErrorResponse) => {\n              store.toastService.show('Failed to send message', 'error');\n            },\n          })\n        )\n    );\n\n    const selectConversation = (conversationId: string) => {\n      patchState(store, { selectedConversationId: conversationId });\n    };\n\n    return {\n      getConversations,\n      getMessages,\n      sendMessage,\n      selectConversation,\n    };\n  })\n);\n", "import { Component, computed, inject, signal } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Conversation, Message } from '../../../../shared/models/message.model';\r\nimport { AuthStore } from '../../../../shared/store/auth.store';\r\nimport { ConversationListComponent } from '../../components/conversation-list/conversation-list.component';\r\nimport { ThreadComponent } from '../../components/message-thread/message-thread.component';\r\nimport { MessageStore } from '../../store/message.store';\r\n\r\n@Component({\r\n  selector: 'app-inbox',\r\n  imports: [ConversationListComponent, ThreadComponent],\r\n  templateUrl: './inbox.component.html',\r\n})\r\nexport class InboxComponent {\r\n  private messageStore = inject(MessageStore);\r\n  private authStore = inject(AuthStore);\r\n  private route = inject(ActivatedRoute);\r\n  private router = inject(Router);\r\n\r\n  selectedConversationId = signal<string | null>(null);\r\n  conversations = signal<Conversation[]>([]);\r\n  messages = signal<Message[]>([]);\r\n\r\n  currentUserId = computed(() => this.authStore.currentUser()?.userId || '');\r\n\r\n  constructor() {\r\n    // Initialize with mock data\r\n    this.initializeMockData();\r\n\r\n    // Check if there's a conversation ID in the route\r\n    this.route.params.subscribe((params) => {\r\n      if (params['id']) {\r\n        this.selectedConversationId.set(params['id']);\r\n        this.loadMessagesForConversation(params['id']);\r\n      }\r\n    });\r\n  }\r\n\r\n  private initializeMockData(): void {\r\n    // Mock conversations\r\n    const mockConversations: Conversation[] = [\r\n      {\r\n        id: '1',\r\n        otherUserId: 'user-2',\r\n        otherUserDisplayName: 'Sarah Johnson',\r\n        otherUserImageUrl:\r\n          'https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=150',\r\n        lastMessage: 'Hey! How are you doing?',\r\n        lastMessageDate: new Date(\r\n          Date.now() - 2 * 60 * 60 * 1000\r\n        ).toISOString(),\r\n        unreadCount: 2,\r\n        isOnline: true,\r\n        lastActive: new Date().toISOString(),\r\n      },\r\n      {\r\n        id: '2',\r\n        otherUserId: 'user-3',\r\n        otherUserDisplayName: 'Emily Davis',\r\n        otherUserImageUrl:\r\n          'https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150',\r\n        lastMessage: 'Thanks for the message!',\r\n        lastMessageDate: new Date(\r\n          Date.now() - 5 * 60 * 60 * 1000\r\n        ).toISOString(),\r\n        unreadCount: 0,\r\n        isOnline: false,\r\n        lastActive: new Date(Date.now() - 2 * 60 * 60 * 1000).toISOString(),\r\n      },\r\n      {\r\n        id: '3',\r\n        otherUserId: 'user-4',\r\n        otherUserDisplayName: 'Jessica Martinez',\r\n        otherUserImageUrl:\r\n          'https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=150',\r\n        lastMessage: 'Looking forward to meeting you!',\r\n        lastMessageDate: new Date(\r\n          Date.now() - 24 * 60 * 60 * 1000\r\n        ).toISOString(),\r\n        unreadCount: 1,\r\n        isOnline: false,\r\n        lastActive: new Date(Date.now() - 12 * 60 * 60 * 1000).toISOString(),\r\n      },\r\n      {\r\n        id: '4',\r\n        otherUserId: 'user-5',\r\n        otherUserDisplayName: 'Amanda Wilson',\r\n        lastMessage: 'Have a great day!',\r\n        lastMessageDate: new Date(\r\n          Date.now() - 3 * 24 * 60 * 60 * 1000\r\n        ).toISOString(),\r\n        unreadCount: 0,\r\n        isOnline: false,\r\n        lastActive: new Date(\r\n          Date.now() - 2 * 24 * 60 * 60 * 1000\r\n        ).toISOString(),\r\n      },\r\n    ];\r\n\r\n    this.conversations.set(mockConversations);\r\n\r\n    // Mock messages for conversation 1\r\n    const mockMessages: Message[] = [\r\n      {\r\n        id: 'msg-1',\r\n        senderId: 'user-2',\r\n        senderDisplayName: 'Sarah Johnson',\r\n        senderImageUrl:\r\n          'https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=150',\r\n        recipientId: this.currentUserId(),\r\n        recipientDisplayName: 'You',\r\n        content: 'Hey! How are you doing?',\r\n        messageSent: new Date(Date.now() - 2 * 60 * 60 * 1000).toISOString(),\r\n        senderDeleted: false,\r\n        recipientDeleted: false,\r\n      },\r\n      {\r\n        id: 'msg-2',\r\n        senderId: this.currentUserId(),\r\n        senderDisplayName: 'You',\r\n        recipientId: 'user-2',\r\n        recipientDisplayName: 'Sarah Johnson',\r\n        recipientImageUrl:\r\n          'https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=150',\r\n        content: \"I'm doing great, thanks for asking! How about you?\",\r\n        messageSent: new Date(Date.now() - 1.5 * 60 * 60 * 1000).toISOString(),\r\n        dateRead: new Date(Date.now() - 1.5 * 60 * 60 * 1000).toISOString(),\r\n        senderDeleted: false,\r\n        recipientDeleted: false,\r\n      },\r\n      {\r\n        id: 'msg-3',\r\n        senderId: 'user-2',\r\n        senderDisplayName: 'Sarah Johnson',\r\n        senderImageUrl:\r\n          'https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=150',\r\n        recipientId: this.currentUserId(),\r\n        recipientDisplayName: 'You',\r\n        content: \"I'm doing well too! Would you like to grab coffee sometime?\",\r\n        messageSent: new Date(Date.now() - 1 * 60 * 60 * 1000).toISOString(),\r\n        senderDeleted: false,\r\n        recipientDeleted: false,\r\n      },\r\n    ];\r\n\r\n    this.messages.set(mockMessages);\r\n  }\r\n\r\n  onConversationSelected(conversationId: string): void {\r\n    this.selectedConversationId.set(conversationId);\r\n    this.router.navigate(['/messages/thread', conversationId]);\r\n    this.loadMessagesForConversation(conversationId);\r\n  }\r\n\r\n  private loadMessagesForConversation(conversationId: string): void {\r\n    // Mock messages based on conversation ID\r\n    const conversation = this.conversations().find(\r\n      (c) => c.id === conversationId\r\n    );\r\n    if (!conversation) return;\r\n\r\n    const mockMessages: Message[] = [\r\n      {\r\n        id: `msg-${conversationId}-1`,\r\n        senderId: conversation.otherUserId,\r\n        senderDisplayName: conversation.otherUserDisplayName,\r\n        senderImageUrl: conversation.otherUserImageUrl,\r\n        recipientId: this.currentUserId(),\r\n        recipientDisplayName: 'You',\r\n        content: conversation.lastMessage || 'Hello!',\r\n        messageSent: conversation.lastMessageDate || new Date().toISOString(),\r\n        senderDeleted: false,\r\n        recipientDeleted: false,\r\n      },\r\n    ];\r\n\r\n    this.messages.set(mockMessages);\r\n  }\r\n\r\n  onMessageSent(content: string): void {\r\n    const conversationId = this.selectedConversationId();\r\n    if (!conversationId) return;\r\n\r\n    const conversation = this.conversations().find(\r\n      (c) => c.id === conversationId\r\n    );\r\n    if (!conversation) return;\r\n\r\n    const newMessage: Message = {\r\n      id: `msg-${Date.now()}`,\r\n      senderId: this.currentUserId(),\r\n      senderDisplayName: 'You',\r\n      recipientId: conversation.otherUserId,\r\n      recipientDisplayName: conversation.otherUserDisplayName,\r\n      recipientImageUrl: conversation.otherUserImageUrl,\r\n      content,\r\n      messageSent: new Date().toISOString(),\r\n      senderDeleted: false,\r\n      recipientDeleted: false,\r\n    };\r\n\r\n    this.messages.update((msgs) => [...msgs, newMessage]);\r\n\r\n    // Update conversation last message\r\n    this.conversations.update((convs) =>\r\n      convs.map((conv) =>\r\n        conv.id === conversationId\r\n          ? {\r\n              ...conv,\r\n              lastMessage: content,\r\n              lastMessageDate: new Date().toISOString(),\r\n            }\r\n          : conv\r\n      )\r\n    );\r\n  }\r\n\r\n  onGoBack(): void {\r\n    this.selectedConversationId.set(null);\r\n    this.router.navigate(['/messages/inbox']);\r\n  }\r\n\r\n  getSelectedConversation(): Conversation | undefined {\r\n    const id = this.selectedConversationId();\r\n    return id ? this.conversations().find((c) => c.id === id) : undefined;\r\n  }\r\n}\r\n", "<div class=\"container mx-auto p-4 md:p-6 h-[calc(100vh-8rem)]\">\r\n  <div class=\"card bg-base-100 shadow-lg h-full\">\r\n    <div class=\"card-body p-0 h-full\">\r\n      <div class=\"grid grid-cols-1 md:grid-cols-3 h-full\">\r\n        <!-- Conversation List -->\r\n        <div\r\n          class=\"border-r border-base-300 h-full\"\r\n          [class.hidden]=\"selectedConversationId() !== null\"\r\n          [class.md:block]=\"selectedConversationId() === null\"\r\n        >\r\n          <app-conversation-list\r\n            [conversations]=\"conversations()\"\r\n            [selectedConversationId]=\"selectedConversationId()\"\r\n            (conversationSelected)=\"onConversationSelected($event)\"\r\n          />\r\n        </div>\r\n\r\n        <!-- Message Thread -->\r\n        @if (selectedConversationId() && getSelectedConversation()) {\r\n        <div class=\"col-span-4 h-full\">\r\n          <app-message-thread\r\n            [messages]=\"messages()\"\r\n            [currentUserId]=\"currentUserId()\"\r\n            [otherUserDisplayName]=\"\r\n              getSelectedConversation()!.otherUserDisplayName\r\n            \"\r\n            [otherUserImageUrl]=\"getSelectedConversation()!.otherUserImageUrl\"\r\n            [isOnline]=\"getSelectedConversation()!.isOnline || false\"\r\n            [lastActive]=\"getSelectedConversation()!.lastActive\"\r\n            (messageSent)=\"onMessageSent($event)\"\r\n            (goBack)=\"onGoBack()\"\r\n          />\r\n        </div>\r\n        } @else {\r\n        <!-- Empty State -->\r\n        <div\r\n          class=\"md:col-span-2 hidden md:flex items-center justify-center h-full bg-base-200\"\r\n        >\r\n          <div class=\"text-center p-8\">\r\n            <p class=\"text-xl text-base-content/70 mb-2\">\r\n              Select a conversation\r\n            </p>\r\n            <p class=\"text-base-content/50 text-sm\">\r\n              Choose a conversation from the list to start messaging\r\n            </p>\r\n          </div>\r\n        </div>\r\n        }\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n"],
  "mappings": "0+BCqBgBA,EAAA,EAAA,MAAA,EAAA,2BACEC,EAAA,MAAAC,EAAAC,kBAAAC,CAAA,EAAsC,MAAAF,EAAAG,qBAAA,QAAA,4BAKxCL,EAAA,EAAA,aAAA,EAAA,2BACEC,EAAA,OAAAC,EAAAG,oBAAA,EAA0C,QAAA,EAAA,yBAQhDL,EAAA,EAAA,OAAA,EAAA,4BAYEM,EAAA,EAAA,OAAA,EAAA,EACEC,EAAA,CAAA,EACFC,EAAA,mCADEC,EAAA,EAAAC,EAAA,IAAAC,EAAAC,mBAAAV,EAAAW,eAAA,EAAA,GAAA,6BAYFP,EAAA,EAAA,OAAA,EAAA,EACEC,EAAA,CAAA,EACFC,EAAA,4BADEC,EAAA,EAAAC,EAAA,IAAAR,EAAAY,YAAA,GAAA,sCArDVR,EAAA,EAAA,SAAA,CAAA,EACES,EAAA,QAAA,UAAA,CAAA,IAAAb,EAAAc,EAAAC,CAAA,EAAAC,UAAAP,EAAAQ,EAAA,CAAA,EAAA,OAAAC,EAAST,EAAAU,oBAAAnB,EAAAoB,EAAA,CAAoC,CAAA,CAAA,EAI7ChB,EAAA,EAAA,MAAA,CAAA,EAAqC,EAAA,MAAA,CAAA,EACb,EAAA,MAAA,EAAA,EACA,EAAA,MAAA,EAAA,EAIhBiB,EAAA,EAAAC,GAAA,EAAA,EAAA,MAAA,EAAA,EAAsC,EAAAC,GAAA,EAAA,EAAA,aAAA,EAAA,EAaxCjB,EAAA,EAAM,EAERe,EAAA,EAAAG,GAAA,EAAA,EAAA,OAAA,EAAA,EAKFlB,EAAA,EAEAF,EAAA,EAAA,MAAA,EAAA,EAA4B,EAAA,MAAA,EAAA,EAC0B,GAAA,KAAA,EAAA,EAEhDC,EAAA,EAAA,EACFC,EAAA,EACAe,EAAA,GAAAI,GAAA,EAAA,EAAA,OAAA,EAAA,EAKFnB,EAAA,EACAF,EAAA,GAAA,MAAA,EAAA,EAA+C,GAAA,IAAA,EAAA,EAK3CC,EAAA,EAAA,EACFC,EAAA,EACAe,EAAA,GAAAK,GAAA,EAAA,EAAA,OAAA,EAAA,EAKFpB,EAAA,EAAM,EACF,EACF,mCAvDNqB,EAAA,cAAAlB,EAAAmB,uBAAA,IAAA5B,EAAAoB,EAAA,EAQQb,EAAA,CAAA,EAAAsB,EAAA7B,EAAAC,kBAAA,EAAA,CAAA,EAeJM,EAAA,CAAA,EAAAsB,EAAA7B,EAAA8B,SAAA,EAAA,EAAA,EAUIvB,EAAA,CAAA,EAAAC,EAAA,IAAAR,EAAAG,qBAAA,GAAA,EAEFI,EAAA,EAAAsB,EAAA7B,EAAAW,gBAAA,GAAA,EAAA,EASEJ,EAAA,CAAA,EAAAoB,EAAA,gBAAA3B,EAAAY,YAAA,CAAA,EAEAL,EAAA,EAAAC,EAAA,IAAAR,EAAA+B,aAAA,kBAAA,GAAA,EAEFxB,EAAA,EAAAsB,EAAA7B,EAAAY,YAAA,EAAA,GAAA,EAAA,6BArDVR,EAAA,EAAA,MAAA,CAAA,EACE4B,EAAA,EAAAC,GAAA,GAAA,GAAA,SAAA,EAAAC,EAAA,EA8DF5B,EAAA,kBA9DEC,EAAA,EAAA4B,EAAA1B,EAAA2B,cAAA,CAAe,6BAgEjBhC,EAAA,EAAA,MAAA,CAAA,EAGEN,EAAA,EAAA,cAAA,EAAA,EAIAM,EAAA,EAAA,IAAA,EAAA,EAA6CC,EAAA,EAAA,sBAAA,EAAoBC,EAAA,EACjEF,EAAA,EAAA,IAAA,EAAA,EACEC,EAAA,EAAA,+CAAA,EACFC,EAAA,EAAI,kBANFC,EAAA,EAAAR,EAAA,OAAAU,EAAA4B,WAAA,GDlER,IAAaC,IAAyB,IAAA,CAAhC,MAAOA,CAAyB,CAC3BD,YAAcE,GAEvBH,cAAgBI,EAAMC,SAAQ,EAC9Bb,uBAAyBY,EAAqB,IAAI,EAClDE,qBAAuBC,EAAM,EAE7BxB,oBAAoByB,EAAsB,CACxC,KAAKF,qBAAqBG,KAAKD,CAAc,CAC/C,CAEAlC,mBAAmBoC,EAAa,CAC9B,GAAI,CAACA,EAAM,MAAO,GAClB,IAAMC,EAAc,IAAIC,KAAKF,CAAI,EAE3BG,EADM,IAAID,KAAI,EACCE,QAAO,EAAKH,EAAYG,QAAO,EAC9CC,EAAaC,KAAKC,MAAMJ,GAAY,IAAO,GAAK,GAAK,GAAG,EAE9D,OAAIE,IAAe,EACVJ,EAAYO,mBAAmB,QAAS,CAC7CC,KAAM,UACNC,OAAQ,UACT,EACQL,IAAe,EACjB,YACEA,EAAa,EACf,GAAGA,CAAU,YAEbJ,EAAYU,mBAAmB,QAAS,CAC7CC,MAAO,QACPC,IAAK,UACN,CAEL,4CAjCWrB,EAAyB,2BAAzBA,EAAyBsB,UAAA,CAAA,CAAA,uBAAA,CAAA,EAAAC,OAAA,CAAAzB,cAAA,CAAA,EAAA,eAAA,EAAAR,uBAAA,CAAA,EAAA,wBAAA,CAAA,EAAAkC,QAAA,CAAApB,qBAAA,sBAAA,EAAAqB,MAAA,EAAAC,KAAA,EAAAC,OAAA,CAAA,CAAA,EAAA,OAAA,WAAA,QAAA,EAAA,CAAA,EAAA,MAAA,WAAA,iBAAA,EAAA,CAAA,EAAA,WAAA,WAAA,EAAA,CAAA,EAAA,SAAA,iBAAA,EAAA,CAAA,EAAA,WAAA,iBAAA,EAAA,CAAA,EAAA,OAAA,WAAA,eAAA,iBAAA,SAAA,MAAA,aAAA,EAAA,CAAA,EAAA,SAAA,MAAA,oBAAA,oBAAA,YAAA,EAAA,aAAA,EAAA,CAAA,EAAA,SAAA,MAAA,oBAAA,oBAAA,YAAA,EAAA,OAAA,EAAA,CAAA,EAAA,OAAA,eAAA,OAAA,EAAA,CAAA,EAAA,UAAA,EAAA,CAAA,EAAA,QAAA,EAAA,CAAA,EAAA,OAAA,OAAA,eAAA,OAAA,eAAA,uBAAA,eAAA,EAAA,CAAA,EAAA,SAAA,SAAA,eAAA,eAAA,EAAA,MAAA,KAAA,EAAA,CAAA,OAAA,KAAA,EAAA,OAAA,OAAA,EAAA,CAAA,EAAA,WAAA,WAAA,UAAA,MAAA,MAAA,aAAA,eAAA,WAAA,iBAAA,EAAA,CAAA,EAAA,SAAA,SAAA,EAAA,CAAA,EAAA,OAAA,eAAA,kBAAA,MAAA,EAAA,CAAA,EAAA,gBAAA,YAAA,UAAA,EAAA,CAAA,EAAA,UAAA,uBAAA,MAAA,EAAA,CAAA,EAAA,OAAA,eAAA,iBAAA,EAAA,CAAA,EAAA,UAAA,uBAAA,UAAA,EAAA,CAAA,EAAA,QAAA,gBAAA,WAAA,OAAA,eAAA,EAAA,CAAA,EAAA,UAAA,uBAAA,OAAA,EAAA,MAAA,EAAA,CAAA,EAAA,uBAAA,UAAA,MAAA,EAAA,CAAA,EAAA,uBAAA,SAAA,CAAA,EAAAC,SAAA,SAAAC,EAAAC,EAAA,CAAAD,EAAA,ICVtC/D,EAAA,EAAA,MAAA,CAAA,EAAkC,EAAA,MAAA,CAAA,EACU,EAAA,KAAA,CAAA,EACTC,EAAA,EAAA,UAAA,EAAQC,EAAA,EAAK,EAG9CF,EAAA,EAAA,MAAA,CAAA,EACEiB,EAAA,EAAAgD,GAAA,EAAA,EAAA,MAAA,CAAA,EAAkC,EAAAC,GAAA,EAAA,EAAA,MAAA,CAAA,EA+EpChE,EAAA,EAAM,SA/EJC,EAAA,CAAA,EAAAsB,EAAAuC,EAAAhC,cAAA,EAAAmC,OAAA,EAAA,EAAA,CAAA,kBDCQC,EAAmBC,EAAEC,CAAe,EAAAC,cAAA,CAAA,CAAA,SAGnCrC,CAAyB,GAAA,sBEMzBsC,IAAqB,IAAA,CAA5B,MAAOA,CAAqB,CACvBC,SAAWC,EACXC,cAAgBC,GAEzBC,YAAcC,EAAM,EAEpBC,eAAiBC,EAAO,EAAE,EAC1BC,YAAcC,EAA2C,UAAU,EAEnEC,aAAA,CAEEC,EAAO,IAAK,CACV,IAAMC,EAAW,KAAKJ,YAAW,GAAIK,cACjCD,GACF,KAAKE,qBAAqBF,CAAQ,CAEtC,CAAC,CACH,CAEAG,QAAM,CACJ,IAAMC,EAAU,KAAKV,eAAc,EAAGW,KAAI,EAC1C,GAAID,EAAS,CACX,KAAKZ,YAAYc,KAAKF,CAAO,EAC7B,KAAKV,eAAea,IAAI,EAAE,EAE1B,IAAMP,EAAW,KAAKJ,YAAW,GAAIK,cACjCD,IACFA,EAASQ,MAAMC,OAAS,OAE5B,CACF,CAEAC,WAAWC,EAAoB,CACzBA,EAAMC,MAAQ,SAAW,CAACD,EAAME,WAClCF,EAAMG,eAAc,EACpB,KAAKX,OAAM,EAEf,CAEAY,QAAQJ,EAAY,CAClB,IAAMX,EAAWW,EAAMK,OACvB,KAAKd,qBAAqBF,CAAQ,CACpC,CAEQE,qBAAqBF,EAA6B,CACxDA,EAASQ,MAAMC,OAAS,OACxB,IAAMQ,EAAY,IACZC,EAAelB,EAASkB,aAC9BlB,EAASQ,MAAMC,OAAS,GAAGU,KAAKC,IAAIF,EAAcD,CAAS,CAAC,KAC5DjB,EAASQ,MAAMa,UAAYH,EAAeD,EAAY,OAAS,QACjE,CAEA,IAAIK,YAAU,CACZ,OAAO,KAAK5B,eAAc,EAAGW,KAAI,EAAGkB,OAAS,CAC/C,4CAtDWpC,EAAqB,2BAArBA,EAAqBqC,UAAA,CAAA,CAAA,mBAAA,CAAA,EAAAC,UAAA,SAAAC,EAAAC,EAAA,CAAAD,EAAA,i6BChBlCE,EAAA,EAAA,MAAA,CAAA,EAAkC,EAAA,SAAA,CAAA,EAO9BC,EAAA,EAAA,cAAA,CAAA,EACFC,EAAA,EAGAF,EAAA,EAAA,MAAA,CAAA,EAA4E,EAAA,WAAA,EAAA,CAAA,EAGxEG,EAAA,gBAAA,SAAAC,EAAA,CAAAC,OAAAC,EAAAC,CAAA,EAAAC,EAAAT,EAAAjC,eAAAsC,CAAA,IAAAL,EAAAjC,eAAAsC,GAAAK,EAAAL,CAAA,CAAA,CAAA,EACAM,EAAA,UAAA,SAAAN,EAAA,CAAAC,OAAAC,EAAAC,CAAA,EAAAE,EAAWV,EAAAjB,WAAAsB,CAAA,CAAkB,CAAA,CAAA,EAAC,QAAA,SAAAA,EAAA,CAAAC,OAAAC,EAAAC,CAAA,EAAAE,EACrBV,EAAAZ,QAAAiB,CAAA,CAAe,CAAA,CAAA,EAIzBF,EAAA,EAGDF,EAAA,EAAA,SAAA,CAAA,EAEEU,EAAA,QAAA,UAAA,CAAAL,OAAAC,EAAAC,CAAA,EAAAE,EAASV,EAAAxB,OAAA,CAAQ,CAAA,CAAA,EAKjB0B,EAAA,EAAA,cAAA,CAAA,EACFC,EAAA,EAAS,EACL,QAzBSS,EAAA,CAAA,EAAAC,EAAA,OAAAb,EAAArC,aAAA,EAOXiD,EAAA,CAAA,EAAAE,EAAA,UAAAd,EAAAjC,cAAA,EAaA6C,EAAA,CAAA,EAAAC,EAAA,WAAA,CAAAb,EAAAL,UAAA,EAGaiB,EAAA,EAAAC,EAAA,OAAAb,EAAAvC,QAAA,kBDjBPsD,GAAWC,GAAAC,GAAAC,GAAEC,EAAmBC,CAAA,EAAAC,cAAA,CAAA,CAAA,SAG/B7D,CAAqB,GAAA,8CGHtB8D,EAAA,EAAA,MAAA,CAAA,iBACEC,EAAA,MAAAC,EAAAC,kBAAA,EAAAC,CAAA,EAA4B,MAAAF,EAAAG,qBAAA,EAAA,QAAA,4BAK9BL,EAAA,EAAA,aAAA,CAAA,iBACEC,EAAA,OAAAC,EAAAG,qBAAA,CAAA,EAA+B,QAAA,EAAA,yBAQrCL,EAAA,EAAA,OAAA,EAAA,yBAQAM,EAAA,EAAA,IAAA,EAAA,EAAgCC,EAAA,EAAA,QAAA,EAAMC,EAAA,6BAEtCF,EAAA,EAAA,IAAA,EAAA,EACEC,EAAA,CAAA,EACFC,EAAA,kBADEC,EAAA,EAAAC,EAAA,IAAAR,EAAAS,kBAAAT,EAAAU,WAAA,CAAA,EAAA,GAAA,4BAwBEZ,EAAA,EAAA,MAAA,CAAA,4BACEC,EAAA,MAAAY,EAAAC,eAAAV,CAAA,EAA8B,MAAAS,EAAAE,kBAAA,QAAA,4BAKhCf,EAAA,EAAA,aAAA,EAAA,4BACEC,EAAA,OAAAY,EAAAE,iBAAA,EAAkC,QAAA,EAAA,6BAVxCT,EAAA,EAAA,MAAA,EAAA,EAAkC,EAAA,MAAA,EAAA,EAE9BU,EAAA,EAAAC,GAAA,EAAA,EAAA,MAAA,CAAA,EAA8B,EAAAC,GAAA,EAAA,EAAA,aAAA,EAAA,EAahCV,EAAA,EAAM,4BAbJC,EAAA,CAAA,EAAAU,EAAAN,EAAAC,eAAA,EAAA,CAAA,0BAmCAR,EAAA,EAAA,OAAA,EAAA,MACEA,EAAA,EAAA,MAAA,EAAA,EACEN,EAAA,EAAA,OAAA,EAAA,EAKFQ,EAAA,EAAM,0BAGRF,EAAA,EAAA,OAAA,EAAA,MACEA,EAAA,EAAA,MAAA,EAAA,EACEN,EAAA,EAAA,OAAA,EAAA,EAKFQ,EAAA,EAAM,4BAlBkCQ,EAAA,EAAAI,GAAA,EAAA,EAAA,OAAA,EAAA,EAAwB,EAAAC,GAAA,EAAA,EAAA,OAAA,EAAA,2BAAxBF,EAAAN,EAAAS,SAAA,EAAA,CAAA,6BA/ClDhB,EAAA,EAAA,MAAA,EAAA,EAIC,EAAA,MAAA,EAAA,EAMGU,EAAA,EAAAO,GAAA,EAAA,EAAA,MAAA,EAAA,EAqBAjB,EAAA,EAAA,MAAA,EAAA,EAQC,EAAA,IAAA,EAAA,EAEGC,EAAA,CAAA,EACFC,EAAA,EACAF,EAAA,EAAA,MAAA,EAAA,EAAkE,EAAA,OAAA,EAAA,EAE9DC,EAAA,CAAA,cACFC,EAAA,EACAQ,EAAA,GAAAQ,GAAA,EAAA,CAAA,EAqBFhB,EAAA,EAAM,EACF,EACF,gCApENiB,EAAA,cAAAvB,EAAAwB,yBAAAb,CAAA,CAAA,EAAuD,gBAAA,CAAAX,EAAAwB,yBAAAb,CAAA,CAAA,EAKrDJ,EAAA,EAAAgB,EAAA,mBAAAvB,EAAAwB,yBAAAb,CAAA,CAAA,EAGAJ,EAAA,EAAAU,EAAAjB,EAAAwB,yBAAAb,CAAA,EAAA,GAAA,CAAA,EAuBEJ,EAAA,EAAAgB,EAAA,aAAAvB,EAAAwB,yBAAAb,CAAA,CAAA,EAAsD,uBAAAX,EAAAwB,yBAAAb,CAAA,CAAA,EACU,cAAA,CAAAX,EAAAwB,yBAAAb,CAAA,CAAA,EACR,oBAAA,CAAAX,EAAAwB,yBAAAb,CAAA,CAAA,EACM,gBAAAX,EAAAwB,yBAAAb,CAAA,CAAA,EACL,gBAAA,CAAAX,EAAAwB,yBAAAb,CAAA,CAAA,EAIvDJ,EAAA,CAAA,EAAAC,EAAA,IAAAG,EAAAc,QAAA,GAAA,EAIElB,EAAA,CAAA,EAAAC,EAAA,IAAAkB,EAAA,EAAA,GAAAf,EAAAgB,YAAA,WAAA,EAAA,GAAA,EAEFpB,EAAA,CAAA,EAAAU,EAAAjB,EAAAwB,yBAAAb,CAAA,EAAA,GAAA,EAAA,0BA0BRP,EAAA,EAAA,MAAA,EAAA,EAAqD,EAAA,IAAA,EAAA,EAEjDC,EAAA,EAAA,4CAAA,EACFC,EAAA,EAAI,GD5GV,IAAasB,IAAe,IAAA,CAAtB,MAAOA,CAAe,CACjBC,cAAgBC,GAChBC,SAAWC,EAEpBC,SAAWC,EAAMC,SAAQ,EACzBC,cAAgBF,EAAMC,SAAQ,EAC9BhC,qBAAuB+B,EAAMC,SAAQ,EACrClC,kBAAoBiC,EAA0BG,MAAS,EACvDC,SAAWJ,EAAe,EAAK,EAC/BxB,WAAawB,EAA0BG,MAAS,EAEhDV,YAAcY,EAAM,EACpBC,OAASD,EAAM,EAEfE,UAAQ,CACN,KAAKD,OAAOE,KAAI,CAClB,CAEAC,cAAclB,EAAe,CAC3B,KAAKE,YAAYe,KAAKjB,CAAO,CAC/B,CAEAD,yBAAyBoB,EAAgB,CACvC,OAAOA,EAAQC,WAAa,KAAKT,cAAa,CAChD,CAEA3B,kBAAkBC,EAAmB,CACnC,GAAI,CAACA,EAAY,MAAO,GACxB,IAAMoC,EAAiB,IAAIC,KAAKrC,CAAU,EAEpCsC,EADM,IAAID,KAAI,EACCE,QAAO,EAAKH,EAAeG,QAAO,EACjDC,EAAaC,KAAKC,MAAMJ,GAAY,IAAO,GAAK,GAAK,GAAG,EAE9D,GAAIE,IAAe,EACjB,MAAO,eACF,GAAIA,IAAe,EACxB,MAAO,mBACF,GAAIA,EAAa,EACtB,MAAO,UAAUA,CAAU,YACtB,GAAIA,EAAa,GAAI,CAC1B,IAAMG,EAAQF,KAAKC,MAAMF,EAAa,CAAC,EACvC,MAAO,UAAUG,CAAK,QAAQA,EAAQ,EAAI,IAAM,EAAE,MACpD,KAAO,CACL,IAAMC,EAASH,KAAKC,MAAMF,EAAa,EAAE,EACzC,MAAO,UAAUI,CAAM,SAASA,EAAS,EAAI,IAAM,EAAE,MACvD,CACF,4CA9CW1B,EAAe,2BAAfA,EAAe2B,UAAA,CAAA,CAAA,oBAAA,CAAA,EAAAC,OAAA,CAAAvB,SAAA,CAAA,EAAA,UAAA,EAAAG,cAAA,CAAA,EAAA,eAAA,EAAAjC,qBAAA,CAAA,EAAA,sBAAA,EAAAF,kBAAA,CAAA,EAAA,mBAAA,EAAAqC,SAAA,CAAA,EAAA,UAAA,EAAA5B,WAAA,CAAA,EAAA,YAAA,CAAA,EAAA+C,QAAA,CAAA9B,YAAA,cAAAa,OAAA,QAAA,EAAAkB,MAAA,GAAAC,KAAA,EAAAC,OAAA,CAAA,CAAA,EAAA,OAAA,WAAA,QAAA,EAAA,CAAA,EAAA,MAAA,WAAA,kBAAA,aAAA,EAAA,CAAA,EAAA,OAAA,eAAA,OAAA,EAAA,CAAA,EAAA,MAAA,YAAA,SAAA,aAAA,EAAA,OAAA,EAAA,CAAA,EAAA,SAAA,EAAA,MAAA,EAAA,CAAA,EAAA,UAAA,EAAA,CAAA,EAAA,QAAA,EAAA,CAAA,EAAA,OAAA,OAAA,eAAA,OAAA,eAAA,uBAAA,eAAA,EAAA,CAAA,EAAA,SAAA,SAAA,eAAA,eAAA,EAAA,MAAA,KAAA,EAAA,CAAA,OAAA,KAAA,EAAA,OAAA,OAAA,EAAA,CAAA,EAAA,WAAA,WAAA,UAAA,MAAA,MAAA,aAAA,eAAA,WAAA,iBAAA,EAAA,CAAA,EAAA,QAAA,EAAA,CAAA,EAAA,gBAAA,SAAA,EAAA,CAAA,EAAA,UAAA,cAAA,EAAA,CAAA,EAAA,UAAA,sBAAA,EAAA,CAAA,EAAA,SAAA,kBAAA,MAAA,YAAA,aAAA,EAAA,CAAA,EAAA,OAAA,EAAA,cAAA,eAAA,EAAA,CAAA,EAAA,OAAA,eAAA,iBAAA,QAAA,EAAA,CAAA,EAAA,MAAA,WAAA,kBAAA,cAAA,WAAA,EAAA,CAAA,EAAA,aAAA,EAAA,CAAA,EAAA,MAAA,EAAA,CAAA,EAAA,OAAA,QAAA,aAAA,EAAA,CAAA,EAAA,SAAA,eAAA,EAAA,CAAA,EAAA,cAAA,OAAA,OAAA,WAAA,EAAA,CAAA,EAAA,UAAA,sBAAA,cAAA,iBAAA,EAAA,CAAA,EAAA,UAAA,SAAA,OAAA,eAAA,UAAA,aAAA,EAAA,CAAA,EAAA,aAAA,EAAA,CAAA,EAAA,MAAA,MAAA,cAAA,EAAA,CAAA,OAAA,KAAA,EAAA,OAAA,OAAA,EAAA,CAAA,QAAA,OAAA,EAAA,yBAAA,EAAA,CAAA,QAAA,OAAA,EAAA,yBAAA,EAAA,CAAA,OAAA,eAAA,UAAA,YAAA,EAAA,QAAA,OAAA,EAAA,CAAA,YAAA,UAAA,IAAA,qHAAA,YAAA,SAAA,EAAA,CAAA,EAAA,sBAAA,CAAA,EAAAC,SAAA,SAAAC,EAAAC,EAAA,CAAAD,EAAA,ICjB5B1D,EAAA,EAAA,MAAA,CAAA,EAAkC,EAAA,MAAA,CAAA,EAEsB,EAAA,MAAA,CAAA,EACf,EAAA,SAAA,CAAA,EAC3B4D,EAAA,QAAA,UAAA,CAAA,OAASD,EAAAtB,SAAA,CAAU,CAAA,EACzB3C,EAAA,EAAA,cAAA,CAAA,EACFQ,EAAA,EACAF,EAAA,EAAA,MAAA,CAAA,EAAsB,EAAA,MAAA,CAAA,EACA,EAAA,MAAA,CAAA,EAIhBU,EAAA,EAAAmD,GAAA,EAAA,EAAA,MAAA,CAAA,EAA2B,EAAAC,GAAA,EAAA,EAAA,aAAA,CAAA,EAa7B5D,EAAA,EAAM,EAERQ,EAAA,GAAAqD,GAAA,EAAA,EAAA,OAAA,EAAA,EAKF7D,EAAA,EACAF,EAAA,GAAA,MAAA,EAAA,EAAoB,GAAA,KAAA,EAAA,EACgBC,EAAA,EAAA,EAA4BC,EAAA,EAC9DQ,EAAA,GAAAsD,GAAA,EAAA,EAAA,IAAA,EAAA,EAAkB,GAAAC,GAAA,EAAA,EAAA,IAAA,EAAA,EAOpB/D,EAAA,EAAM,EACF,EAIRF,EAAA,GAAA,MAAA,EAAA,EACEkE,EAAA,GAAAC,GAAA,GAAA,GAAA,MAAA,GAAAC,GAAA,GAAAC,GAAA,EAAA,EAAA,MAAA,EAAA,EAgFFnE,EAAA,EAGAF,EAAA,GAAA,MAAA,EAAA,EAAgE,GAAA,oBAAA,EAAA,EAC3C4D,EAAA,cAAA,SAAAU,EAAA,CAAA,OAAeX,EAAApB,cAAA+B,CAAA,CAAqB,CAAA,EAAvDpE,EAAA,EAA2D,EACvD,SAhIaC,EAAA,CAAA,EAAAR,EAAA,OAAAgE,EAAAlC,aAAA,EAOTtB,EAAA,CAAA,EAAAU,EAAA8C,EAAA9D,kBAAA,EAAA,EAAA,CAAA,EAeJM,EAAA,CAAA,EAAAU,EAAA8C,EAAAzB,SAAA,EAAA,GAAA,EAAA,EAOkC/B,EAAA,CAAA,EAAAoE,EAAAZ,EAAA5D,qBAAA,CAAA,EAClCI,EAAA,EAAAU,EAAA8C,EAAAzB,SAAA,EAAA,GAAAyB,EAAArD,WAAA,EAAA,GAAA,EAAA,EAaJH,EAAA,CAAA,EAAAqE,EAAAb,EAAA9B,SAAA,CAAU,kBDrCV4C,EAAmBC,EACnBC,EACAC,GAHAC,EAAQ,EAAAC,cAAA,CAAA,CAAA,SAOCtD,CAAe,GAAA,EEN5B,IAAauD,IAAc,IAAA,CAArB,MAAOA,CAAc,CACjBC,KAAOC,EAAOC,EAAU,EACfC,QAAUC,GAAYC,OAASC,GAAaC,SAE7DC,YAAYC,EAAyB,CACnC,IAAIC,EAAc,IAAIC,EACtB,OAAIF,IACFC,EAAcA,EAAYE,OACxB,aACAH,EAAOI,WAAWC,SAAQ,CAAE,EAE9BJ,EAAcA,EAAYE,OAAO,WAAYH,EAAOM,SAASD,SAAQ,CAAE,GAElE,KAAKd,KAAKgB,IAAe,KAAKb,QAAS,CAAEM,OAAQC,CAAW,CAAE,CACvE,CAEAO,iBAAiBR,EAAyB,CACxC,IAAIC,EAAc,IAAIC,EACtB,OAAIF,IACFC,EAAcA,EAAYE,OACxB,aACAH,EAAOI,WAAWC,SAAQ,CAAE,EAE9BJ,EAAcA,EAAYE,OAAO,WAAYH,EAAOM,SAASD,SAAQ,CAAE,GAElE,KAAKd,KAAKgB,IAAoB,KAAKb,QAAS,CAAEM,OAAQC,CAAW,CAAE,CAC5E,CAEAQ,YAAYC,EAAgB,CAC1B,OAAO,KAAKnB,KAAKoB,KAAc,KAAKjB,QAASgB,CAAO,CACtD,4CA9BWpB,EAAc,6BAAdA,EAAcsB,QAAdtB,EAAcuB,UAAAC,WAFb,MAAM,CAAA,SAEPxB,CAAc,GAAA,ECW3B,IAAMyB,GAAiC,CACrCC,cAAe,CAAA,EACfC,SAAU,CAAA,EACVC,uBAAwB,MAGbC,GAAeC,GAC1B,CAAEC,WAAY,MAAM,EACpBC,GAAUP,EAAY,EACtBQ,GAAU,KAAO,CACfC,YAAaC,EAAOC,EAAW,EAC/BC,eAAgBF,EAAOG,EAAc,EACrCC,aAAcJ,EAAOK,EAAY,GACjC,EACFC,GAAaC,GAAS,CACpB,IAAMC,EAAmBD,EAAMR,YAAYU,aAGzC,IACAF,EAAML,eAAeM,iBAAgB,EAAGE,KACtCC,EAAY,CACVC,KAAOC,GAAY,CACjBC,EAAWP,EAAO,CAAEhB,cAAesB,CAAQ,CAAE,CAC/C,EACAE,MAAQA,GAA4B,CAClCR,EAAMH,aAAaY,KAAK,8BAA+B,OAAO,CAChE,EACD,CAAC,CACH,EAGGC,EAAcV,EAAMR,YAAYU,aAGpC,IACAF,EAAML,eAAee,YAAW,EAAGP,KACjCC,EAAY,CACVC,KAAOC,GAAY,CACjBC,EAAWP,EAAO,CAAEf,SAAUqB,CAAQ,CAAE,CAC1C,EACAE,MAAQA,GAA4B,CAClCR,EAAMH,aAAaY,KAAK,yBAA0B,OAAO,CAC3D,EACD,CAAC,CACH,EAGGE,EAAcX,EAAMR,YAAYoB,mBACnCC,GACCb,EAAML,eAAegB,YAAYE,CAAO,EAAEV,KACxCC,EAAY,CACVC,KAAOC,GAAY,CACjBC,EAAWP,EAAO,CAAEf,SAAU,CAAC,GAAGe,EAAMf,SAAQ,EAAIqB,CAAQ,CAAC,CAAE,EAC/DN,EAAMH,aAAaY,KAAK,4BAA6B,SAAS,CAChE,EACAD,MAAQA,GAA4B,CAClCR,EAAMH,aAAaY,KAAK,yBAA0B,OAAO,CAC3D,EACD,CAAC,CACH,EAOL,MAAO,CACLR,iBAAAA,EACAS,YAAAA,EACAC,YAAAA,EACAG,mBAR0BC,GAA0B,CACpDR,EAAWP,EAAO,CAAEd,uBAAwB6B,CAAc,CAAE,CAC9D,EAQF,CAAC,CAAC,qCE3EIC,EAAA,EAAA,MAAA,CAAA,EAA+B,EAAA,qBAAA,CAAA,EAU3BC,EAAA,cAAA,SAAAC,EAAA,CAAAC,EAAAC,CAAA,EAAA,IAAAC,EAAAC,EAAA,EAAA,OAAAC,EAAeF,EAAAG,cAAAN,CAAA,CAAqB,CAAA,CAAA,EAAC,SAAA,UAAA,CAAAC,EAAAC,CAAA,EAAA,IAAAC,EAAAC,EAAA,EAAA,OAAAC,EAC3BF,EAAAI,SAAA,CAAU,CAAA,CAAA,EAVtBC,EAAA,EAWE,oBAVAC,EAAA,EAAAC,EAAA,WAAAP,EAAAQ,SAAA,CAAA,EAAuB,gBAAAR,EAAAS,cAAA,CAAA,EACU,uBAAAT,EAAAU,wBAAA,EAAAC,oBAAA,EAGhC,oBAAAX,EAAAU,wBAAA,EAAAE,iBAAA,EACiE,WAAAZ,EAAAU,wBAAA,EAAAG,UAAA,EAAA,EACT,aAAAb,EAAAU,wBAAA,EAAAI,UAAA,0BAQ7DnB,EAAA,EAAA,MAAA,CAAA,EAEC,EAAA,MAAA,CAAA,EAC8B,EAAA,IAAA,EAAA,EAEzBoB,EAAA,EAAA,yBAAA,EACFV,EAAA,EACAV,EAAA,EAAA,IAAA,EAAA,EACEoB,EAAA,EAAA,0DAAA,EACFV,EAAA,EAAI,EACA,GDhChB,IAAaW,IAAc,IAAA,CAArB,MAAOA,CAAc,CACjBC,aAAeC,EAAOC,EAAY,EAClCC,UAAYF,EAAOG,EAAS,EAC5BC,MAAQJ,EAAOK,EAAc,EAC7BC,OAASN,EAAOO,EAAM,EAE9BC,uBAAyBC,EAAsB,IAAI,EACnDC,cAAgBD,EAAuB,CAAA,CAAE,EACzCnB,SAAWmB,EAAkB,CAAA,CAAE,EAE/BlB,cAAgBoB,EAAS,IAAM,KAAKT,UAAUU,YAAW,GAAIC,QAAU,EAAE,EAEzEC,aAAA,CAEE,KAAKC,mBAAkB,EAGvB,KAAKX,MAAMY,OAAOC,UAAWD,GAAU,CACjCA,EAAO,KACT,KAAKR,uBAAuBU,IAAIF,EAAO,EAAK,EAC5C,KAAKG,4BAA4BH,EAAO,EAAK,EAEjD,CAAC,CACH,CAEQD,oBAAkB,CAExB,IAAMK,EAAoC,CACxC,CACEC,GAAI,IACJC,YAAa,SACb7B,qBAAsB,gBACtBC,kBACE,qEACF6B,YAAa,0BACbC,gBAAiB,IAAIC,KACnBA,KAAKC,IAAG,EAAK,IAAkB,EAC/BC,YAAW,EACbC,YAAa,EACbjC,SAAU,GACVC,WAAY,IAAI6B,KAAI,EAAGE,YAAW,GAEpC,CACEN,GAAI,IACJC,YAAa,SACb7B,qBAAsB,cACtBC,kBACE,qEACF6B,YAAa,0BACbC,gBAAiB,IAAIC,KACnBA,KAAKC,IAAG,EAAK,IAAkB,EAC/BC,YAAW,EACbC,YAAa,EACbjC,SAAU,GACVC,WAAY,IAAI6B,KAAKA,KAAKC,IAAG,EAAK,IAAkB,EAAEC,YAAW,GAEnE,CACEN,GAAI,IACJC,YAAa,SACb7B,qBAAsB,mBACtBC,kBACE,kEACF6B,YAAa,kCACbC,gBAAiB,IAAIC,KACnBA,KAAKC,IAAG,EAAK,KAAmB,EAChCC,YAAW,EACbC,YAAa,EACbjC,SAAU,GACVC,WAAY,IAAI6B,KAAKA,KAAKC,IAAG,EAAK,KAAmB,EAAEC,YAAW,GAEpE,CACEN,GAAI,IACJC,YAAa,SACb7B,qBAAsB,gBACtB8B,YAAa,oBACbC,gBAAiB,IAAIC,KACnBA,KAAKC,IAAG,EAAK,MAAuB,EACpCC,YAAW,EACbC,YAAa,EACbjC,SAAU,GACVC,WAAY,IAAI6B,KACdA,KAAKC,IAAG,EAAK,MAAuB,EACpCC,YAAW,EACd,EAGH,KAAKjB,cAAcQ,IAAIE,CAAiB,EAGxC,IAAMS,EAA0B,CAC9B,CACER,GAAI,QACJS,SAAU,SACVC,kBAAmB,gBACnBC,eACE,qEACFC,YAAa,KAAK1C,cAAa,EAC/B2C,qBAAsB,MACtBC,QAAS,0BACTC,YAAa,IAAIX,KAAKA,KAAKC,IAAG,EAAK,EAAI,GAAK,GAAK,GAAI,EAAEC,YAAW,EAClEU,cAAe,GACfC,iBAAkB,IAEpB,CACEjB,GAAI,QACJS,SAAU,KAAKvC,cAAa,EAC5BwC,kBAAmB,MACnBE,YAAa,SACbC,qBAAsB,gBACtBK,kBACE,qEACFJ,QAAS,qDACTC,YAAa,IAAIX,KAAKA,KAAKC,IAAG,EAAK,IAAM,GAAK,GAAK,GAAI,EAAEC,YAAW,EACpEa,SAAU,IAAIf,KAAKA,KAAKC,IAAG,EAAK,IAAM,GAAK,GAAK,GAAI,EAAEC,YAAW,EACjEU,cAAe,GACfC,iBAAkB,IAEpB,CACEjB,GAAI,QACJS,SAAU,SACVC,kBAAmB,gBACnBC,eACE,qEACFC,YAAa,KAAK1C,cAAa,EAC/B2C,qBAAsB,MACtBC,QAAS,8DACTC,YAAa,IAAIX,KAAKA,KAAKC,IAAG,EAAK,EAAI,GAAK,GAAK,GAAI,EAAEC,YAAW,EAClEU,cAAe,GACfC,iBAAkB,GACnB,EAGH,KAAKhD,SAAS4B,IAAIW,CAAY,CAChC,CAEAY,uBAAuBC,EAAsB,CAC3C,KAAKlC,uBAAuBU,IAAIwB,CAAc,EAC9C,KAAKpC,OAAOqC,SAAS,CAAC,mBAAoBD,CAAc,CAAC,EACzD,KAAKvB,4BAA4BuB,CAAc,CACjD,CAEQvB,4BAA4BuB,EAAsB,CAExD,IAAME,EAAe,KAAKlC,cAAa,EAAGmC,KACvCC,GAAMA,EAAEzB,KAAOqB,CAAc,EAEhC,GAAI,CAACE,EAAc,OAEnB,IAAMf,EAA0B,CAC9B,CACER,GAAI,OAAOqB,CAAc,KACzBZ,SAAUc,EAAatB,YACvBS,kBAAmBa,EAAanD,qBAChCuC,eAAgBY,EAAalD,kBAC7BuC,YAAa,KAAK1C,cAAa,EAC/B2C,qBAAsB,MACtBC,QAASS,EAAarB,aAAe,SACrCa,YAAaQ,EAAapB,iBAAmB,IAAIC,KAAI,EAAGE,YAAW,EACnEU,cAAe,GACfC,iBAAkB,GACnB,EAGH,KAAKhD,SAAS4B,IAAIW,CAAY,CAChC,CAEA5C,cAAckD,EAAe,CAC3B,IAAMO,EAAiB,KAAKlC,uBAAsB,EAClD,GAAI,CAACkC,EAAgB,OAErB,IAAME,EAAe,KAAKlC,cAAa,EAAGmC,KACvCC,GAAMA,EAAEzB,KAAOqB,CAAc,EAEhC,GAAI,CAACE,EAAc,OAEnB,IAAMG,EAAsB,CAC1B1B,GAAI,OAAOI,KAAKC,IAAG,CAAE,GACrBI,SAAU,KAAKvC,cAAa,EAC5BwC,kBAAmB,MACnBE,YAAaW,EAAatB,YAC1BY,qBAAsBU,EAAanD,qBACnC8C,kBAAmBK,EAAalD,kBAChCyC,QAAAA,EACAC,YAAa,IAAIX,KAAI,EAAGE,YAAW,EACnCU,cAAe,GACfC,iBAAkB,IAGpB,KAAKhD,SAAS0D,OAAQC,GAAS,CAAC,GAAGA,EAAMF,CAAU,CAAC,EAGpD,KAAKrC,cAAcsC,OAAQE,GACzBA,EAAMC,IAAKC,GACTA,EAAK/B,KAAOqB,EACRW,EAAAC,EAAA,GACKF,GADL,CAEE7B,YAAaY,EACbX,gBAAiB,IAAIC,KAAI,EAAGE,YAAW,IAEzCyB,CAAI,CACT,CAEL,CAEAlE,UAAQ,CACN,KAAKsB,uBAAuBU,IAAI,IAAI,EACpC,KAAKZ,OAAOqC,SAAS,CAAC,iBAAiB,CAAC,CAC1C,CAEAnD,yBAAuB,CACrB,IAAM6B,EAAK,KAAKb,uBAAsB,EACtC,OAAOa,EAAK,KAAKX,cAAa,EAAGmC,KAAMC,GAAMA,EAAEzB,KAAOA,CAAE,EAAIkC,MAC9D,4CApNWzD,EAAc,2BAAdA,EAAc0D,UAAA,CAAA,CAAA,WAAA,CAAA,EAAAC,MAAA,EAAAC,KAAA,EAAAC,OAAA,CAAA,CAAA,EAAA,YAAA,UAAA,MAAA,SAAA,sBAAA,EAAA,CAAA,EAAA,OAAA,cAAA,YAAA,QAAA,EAAA,CAAA,EAAA,YAAA,MAAA,QAAA,EAAA,CAAA,EAAA,OAAA,cAAA,iBAAA,QAAA,EAAA,CAAA,EAAA,WAAA,kBAAA,QAAA,EAAA,CAAA,EAAA,uBAAA,gBAAA,wBAAA,EAAA,CAAA,EAAA,aAAA,QAAA,EAAA,CAAA,EAAA,gBAAA,SAAA,UAAA,eAAA,iBAAA,SAAA,aAAA,EAAA,CAAA,EAAA,cAAA,SAAA,WAAA,gBAAA,uBAAA,oBAAA,WAAA,YAAA,EAAA,CAAA,EAAA,cAAA,KAAA,EAAA,CAAA,EAAA,UAAA,uBAAA,MAAA,EAAA,CAAA,EAAA,uBAAA,SAAA,CAAA,EAAAC,SAAA,SAAAC,EAAAC,EAAA,CAAAD,EAAA,ICb3BpF,EAAA,EAAA,MAAA,CAAA,EAA+D,EAAA,MAAA,CAAA,EACd,EAAA,MAAA,CAAA,EACX,EAAA,MAAA,CAAA,EACoB,EAAA,MAAA,CAAA,EAMjD,EAAA,wBAAA,CAAA,EAIGC,EAAA,uBAAA,SAAAC,EAAA,CAAA,OAAwBmF,EAAArB,uBAAA9D,CAAA,CAA8B,CAAA,EAHxDQ,EAAA,EAIE,EAIJ4E,EAAA,EAAAC,GAAA,EAAA,EAAA,MAAA,CAAA,EAA6D,EAAAC,GAAA,EAAA,EAAA,MAAA,CAAA,EA8B/D9E,EAAA,EAAM,EACF,EACF,SA3CEC,EAAA,CAAA,EAAA8E,EAAA,SAAAJ,EAAAtD,uBAAA,IAAA,IAAA,EAAkD,WAAAsD,EAAAtD,uBAAA,IAAA,IAAA,EAIhDpB,EAAA,EAAAC,EAAA,gBAAAyE,EAAApD,cAAA,CAAA,EAAiC,yBAAAoD,EAAAtD,uBAAA,CAAA,EAOrCpB,EAAA,EAAA+E,EAAAL,EAAAtD,uBAAA,GAAAsD,EAAAtE,wBAAA,EAAA,EAAA,CAAA,kBDRI4E,GAA2BC,EAAe,EAAAC,cAAA,CAAA,CAAA,SAGzCxE,CAAc,GAAA",
  "names": ["\u0275\u0275element", "\u0275\u0275property", "conversation_r2", "otherUserImageUrl", "\u0275\u0275sanitizeUrl", "otherUserDisplayName", "\u0275\u0275elementStart", "\u0275\u0275text", "\u0275\u0275elementEnd", "\u0275\u0275advance", "\u0275\u0275textInterpolate1", "ctx_r2", "getLastMessageTime", "lastMessageDate", "unreadCount", "\u0275\u0275listener", "\u0275\u0275restoreView", "_r1", "$implicit", "\u0275\u0275nextContext", "\u0275\u0275resetView", "onConversationClick", "id", "\u0275\u0275conditionalCreate", "ConversationListComponent_Conditional_5_For_2_Conditional_5_Template", "ConversationListComponent_Conditional_5_For_2_Conditional_6_Template", "ConversationListComponent_Conditional_5_For_2_Conditional_7_Template", "ConversationListComponent_Conditional_5_For_2_Conditional_12_Template", "ConversationListComponent_Conditional_5_For_2_Conditional_16_Template", "\u0275\u0275classProp", "selectedConversationId", "\u0275\u0275conditional", "isOnline", "lastMessage", "\u0275\u0275repeaterCreate", "ConversationListComponent_Conditional_5_For_2_Template", "_forTrack0", "\u0275\u0275repeater", "conversations", "messageIcon", "ConversationListComponent", "MessageCircleIcon", "input", "required", "conversationSelected", "output", "conversationId", "emit", "date", "messageDate", "Date", "diffInMs", "getTime", "diffInDays", "Math", "floor", "toLocaleTimeString", "hour", "minute", "toLocaleDateString", "month", "day", "selectors", "inputs", "outputs", "decls", "vars", "consts", "template", "rf", "ctx", "ConversationListComponent_Conditional_5_Template", "ConversationListComponent_Conditional_6_Template", "length", "LucideAngularModule", "LucideAngularComponent", "AvatarComponent", "encapsulation", "MessageInputComponent", "sendIcon", "SendIcon", "paperclipIcon", "PaperclipIcon", "messageSent", "output", "messageContent", "signal", "textareaRef", "viewChild", "constructor", "effect", "textarea", "nativeElement", "adjustTextareaHeight", "onSend", "content", "trim", "emit", "set", "style", "height", "onKeyPress", "event", "key", "shiftKey", "preventDefault", "onInput", "target", "maxHeight", "scrollHeight", "Math", "min", "overflowY", "hasContent", "length", "selectors", "viewQuery", "rf", "ctx", "\u0275\u0275elementStart", "\u0275\u0275element", "\u0275\u0275elementEnd", "\u0275\u0275twoWayListener", "$event", "i0", "\u0275\u0275restoreView", "_r1", "\u0275\u0275twoWayBindingSet", "\u0275\u0275resetView", "\u0275\u0275listener", "\u0275\u0275advance", "\u0275\u0275property", "\u0275\u0275twoWayProperty", "FormsModule", "DefaultValueAccessor", "NgControlStatus", "NgModel", "LucideAngularModule", "LucideAngularComponent", "encapsulation", "\u0275\u0275element", "\u0275\u0275property", "ctx_r0", "otherUserImageUrl", "\u0275\u0275sanitizeUrl", "otherUserDisplayName", "\u0275\u0275elementStart", "\u0275\u0275text", "\u0275\u0275elementEnd", "\u0275\u0275advance", "\u0275\u0275textInterpolate1", "getLastActiveText", "lastActive", "message_r2", "senderImageUrl", "senderDisplayName", "\u0275\u0275conditionalCreate", "ThreadComponent_For_18_Conditional_2_Conditional_2_Template", "ThreadComponent_For_18_Conditional_2_Conditional_3_Template", "\u0275\u0275conditional", "ThreadComponent_For_18_Conditional_10_Conditional_0_Template", "ThreadComponent_For_18_Conditional_10_Conditional_1_Template", "dateRead", "ThreadComponent_For_18_Conditional_2_Template", "ThreadComponent_For_18_Conditional_10_Template", "\u0275\u0275classProp", "isMessageFromCurrentUser", "content", "\u0275\u0275pipeBind2", "messageSent", "ThreadComponent", "arrowLeftIcon", "ArrowLeftIcon", "sendIcon", "SendIcon", "messages", "input", "required", "currentUserId", "undefined", "isOnline", "output", "goBack", "onGoBack", "emit", "onMessageSent", "message", "senderId", "lastActiveDate", "Date", "diffInMs", "getTime", "diffInDays", "Math", "floor", "weeks", "months", "selectors", "inputs", "outputs", "decls", "vars", "consts", "template", "rf", "ctx", "\u0275\u0275listener", "ThreadComponent_Conditional_8_Template", "ThreadComponent_Conditional_9_Template", "ThreadComponent_Conditional_10_Template", "ThreadComponent_Conditional_14_Template", "ThreadComponent_Conditional_15_Template", "\u0275\u0275repeaterCreate", "ThreadComponent_For_18_Template", "_forTrack0", "ThreadComponent_ForEmpty_19_Template", "$event", "\u0275\u0275textInterpolate", "\u0275\u0275repeater", "LucideAngularModule", "LucideAngularComponent", "AvatarComponent", "MessageInputComponent", "DatePipe", "encapsulation", "MessageService", "http", "inject", "HttpClient", "baseUrl", "environment", "apiUrl", "APIEndpoints", "MESSAGES", "getMessages", "params", "queryParams", "HttpParams", "append", "pageNumber", "toString", "pageSize", "get", "getConversations", "sendMessage", "message", "post", "factory", "\u0275fac", "providedIn", "initialState", "conversations", "messages", "selectedConversationId", "MessageStore", "signalStore", "providedIn", "withState", "withProps", "globalStore", "inject", "GlobalStore", "messageService", "MessageService", "toastService", "ToastService", "withMethods", "store", "getConversations", "withApiState", "pipe", "tapResponse", "next", "response", "patchState", "error", "show", "getMessages", "sendMessage", "withFormSubmission", "payload", "selectConversation", "conversationId", "\u0275\u0275elementStart", "\u0275\u0275listener", "$event", "\u0275\u0275restoreView", "_r1", "ctx_r1", "\u0275\u0275nextContext", "\u0275\u0275resetView", "onMessageSent", "onGoBack", "\u0275\u0275elementEnd", "\u0275\u0275advance", "\u0275\u0275property", "messages", "currentUserId", "getSelectedConversation", "otherUserDisplayName", "otherUserImageUrl", "isOnline", "lastActive", "\u0275\u0275text", "InboxComponent", "messageStore", "inject", "MessageStore", "authStore", "AuthStore", "route", "ActivatedRoute", "router", "Router", "selectedConversationId", "signal", "conversations", "computed", "currentUser", "userId", "constructor", "initializeMockData", "params", "subscribe", "set", "loadMessagesForConversation", "mockConversations", "id", "otherUserId", "lastMessage", "lastMessageDate", "Date", "now", "toISOString", "unreadCount", "mockMessages", "senderId", "senderDisplayName", "senderImageUrl", "recipientId", "recipientDisplayName", "content", "messageSent", "senderDeleted", "recipientDeleted", "recipientImageUrl", "dateRead", "onConversationSelected", "conversationId", "navigate", "conversation", "find", "c", "newMessage", "update", "msgs", "convs", "map", "conv", "__spreadProps", "__spreadValues", "undefined", "selectors", "decls", "vars", "consts", "template", "rf", "ctx", "\u0275\u0275conditionalCreate", "InboxComponent_Conditional_6_Template", "InboxComponent_Conditional_7_Template", "\u0275\u0275classProp", "\u0275\u0275conditional", "ConversationListComponent", "ThreadComponent", "encapsulation"]
}
