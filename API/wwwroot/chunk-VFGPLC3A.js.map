{
  "version": 3,
  "sources": ["src/app/modules/auth/components/forgot-password-form/forgot-password-form.component.ts", "src/app/modules/auth/pages/forgot-password/forgot-password.component.ts"],
  "sourcesContent": ["import { KeyValuePipe } from '@angular/common';\r\nimport { HttpErrorResponse } from '@angular/common/http';\r\nimport { Component, computed, inject } from '@angular/core';\r\nimport { FormBuilder, ReactiveFormsModule, Validators } from '@angular/forms';\r\nimport { tapResponse } from '@ngrx/operators';\r\nimport { ToastService } from '../../../../shared/services/toast.service';\r\nimport { GlobalStore } from '../../../../shared/store/global.store';\r\nimport { AuthService } from '../../services/auth.service';\r\n\r\n@Component({\r\n  selector: 'app-forgot-password-form',\r\n  imports: [ReactiveFormsModule, KeyValuePipe],\r\n  template: `\r\n    <form [formGroup]=\"forgotPasswordForm\" (ngSubmit)=\"onSubmit()\">\r\n      <div class=\"flex flex-col gap-3\">\r\n        <input\r\n          type=\"email\"\r\n          formControlName=\"email\"\r\n          class=\"input input-bordered w-full\"\r\n          [readOnly]=\"isLoading()\"\r\n          [class.input-error]=\"\r\n            forgotPasswordForm.get('email')?.invalid &&\r\n            forgotPasswordForm.get('email')?.touched\r\n          \"\r\n          [class.input-success]=\"\r\n            forgotPasswordForm.get('email')?.valid &&\r\n            forgotPasswordForm.get('email')?.touched\r\n          \"\r\n          placeholder=\"Email\"\r\n        />\r\n        @if(forgotPasswordForm.get('email')?.invalid &&\r\n        forgotPasswordForm.get('email')?.touched) {\r\n        <p class=\"text-error text-[14px]\">\r\n          @for(error of forgotPasswordForm.get('email')?.errors | keyvalue;\r\n          track error) { @switch (error.key) { @case ('required') { Email is\r\n          required. } @case ('email') { Invalid email format. } } }\r\n        </p>\r\n        } @if (isSubmitted() && !isLoading()) {\r\n        <div class=\"alert alert-success\">\r\n          <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            class=\"stroke-current shrink-0 h-6 w-6\"\r\n            fill=\"none\"\r\n            viewBox=\"0 0 24 24\"\r\n          >\r\n            <path\r\n              stroke-linecap=\"round\"\r\n              stroke-linejoin=\"round\"\r\n              stroke-width=\"2\"\r\n              d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"\r\n            />\r\n          </svg>\r\n          <span\r\n            >If an account exists with this email, we've sent password reset\r\n            instructions.</span\r\n          >\r\n        </div>\r\n        }\r\n      </div>\r\n    </form>\r\n  `,\r\n})\r\nexport class ForgotPasswordFormComponent {\r\n  private globalStore = inject(GlobalStore);\r\n  private authService = inject(AuthService);\r\n  private toastService = inject(ToastService);\r\n  private formBuilder = inject(FormBuilder);\r\n\r\n  protected isLoading = computed(() => this.globalStore.isSubmitting());\r\n  protected isSubmitted = computed(\r\n    () =>\r\n      this.globalStore.isSubmitting() === false &&\r\n      this.forgotPasswordForm.touched\r\n  );\r\n\r\n  public readonly forgotPasswordForm = this.formBuilder.group({\r\n    email: ['', [Validators.required, Validators.email]],\r\n  });\r\n\r\n  onSubmit(): void {\r\n    if (this.forgotPasswordForm.invalid) {\r\n      this.forgotPasswordForm.markAllAsTouched();\r\n      return;\r\n    }\r\n\r\n    const value = this.forgotPasswordForm.getRawValue();\r\n\r\n    this.globalStore.withFormSubmission<{ email: string }, void>((payload) =>\r\n      this.authService.forgotPassword(payload.email).pipe(\r\n        tapResponse({\r\n          next: () => {\r\n            this.toastService.show(\r\n              'Password reset instructions sent to your email',\r\n              'success'\r\n            );\r\n            this.forgotPasswordForm.reset();\r\n          },\r\n          error: (error: HttpErrorResponse) => {\r\n            console.error('Forgot password error:', error);\r\n            // Don't show error to user for security reasons - always show success message\r\n            this.toastService.show(\r\n              \"If an account exists with this email, we've sent password reset instructions.\",\r\n              'info'\r\n            );\r\n          },\r\n        })\r\n      )\r\n    )({ data: { email: value.email! } });\r\n  }\r\n}\r\n", "import { Component } from '@angular/core';\r\nimport { RouterLink } from '@angular/router';\r\nimport { ForgotPasswordFormComponent } from '../../components/forgot-password-form/forgot-password-form.component';\r\n\r\n@Component({\r\n  selector: 'app-forgot-password',\r\n  imports: [ForgotPasswordFormComponent, RouterLink],\r\n  template: `\r\n    <div class=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-base-200 via-base-100 to-base-200 py-12 px-4\">\r\n      <div class=\"card w-full max-w-md shadow-2xl bg-base-100\">\r\n        <div class=\"card-body\">\r\n          <h2 class=\"card-title text-3xl justify-center mb-2\">Forgot Password</h2>\r\n          <p class=\"text-center text-base-content/70 mb-6\">\r\n            Enter your email address and we'll send you instructions to reset your password.\r\n          </p>\r\n          \r\n          <app-forgot-password-form #forgotPasswordFormRef />\r\n          \r\n          <div class=\"divider\">OR</div>\r\n          \r\n          <div class=\"text-center space-y-2\">\r\n            <a routerLink=\"/auth/login\" class=\"link link-primary text-sm\">\r\n              Back to Sign In\r\n            </a>\r\n            <p class=\"text-sm text-base-content/70\">\r\n              Don't have an account?\r\n              <a routerLink=\"/auth/register\" class=\"link link-primary ml-1\">\r\n                Sign up\r\n              </a>\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  `,\r\n})\r\nexport class ForgotPasswordComponent {}\r\n\r\n"],
  "mappings": "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",
  "names": ["\u0275\u0275text", "\u0275\u0275conditionalCreate", "ForgotPasswordFormComponent_Conditional_3_For_2_Case_0_Template", "ForgotPasswordFormComponent_Conditional_3_For_2_Case_1_Template", "\u0275\u0275conditional", "tmp_11_0", "error_r1", "key", "\u0275\u0275elementStart", "\u0275\u0275repeaterCreate", "ForgotPasswordFormComponent_Conditional_3_For_2_Template", "\u0275\u0275repeaterTrackByIdentity", "\u0275\u0275elementEnd", "\u0275\u0275advance", "\u0275\u0275repeater", "\u0275\u0275pipeBind1", "tmp_1_0", "ctx_r1", "forgotPasswordForm", "get", "errors", "\u0275\u0275element", "ForgotPasswordFormComponent", "globalStore", "inject", "GlobalStore", "authService", "AuthService", "toastService", "ToastService", "formBuilder", "FormBuilder", "isLoading", "computed", "isSubmitting", "isSubmitted", "touched", "group", "email", "Validators", "required", "onSubmit", "invalid", "markAllAsTouched", "value", "getRawValue", "withFormSubmission", "payload", "forgotPassword", "pipe", "tapResponse", "next", "show", "reset", "error", "console", "data", "selectors", "decls", "vars", "consts", "template", "rf", "ctx", "\u0275\u0275listener", "ForgotPasswordFormComponent_Conditional_3_Template", "ForgotPasswordFormComponent_Conditional_4_Template", "\u0275\u0275property", "\u0275\u0275classProp", "tmp_2_0", "valid", "tmp_4_0", "ReactiveFormsModule", "\u0275NgNoValidate", "DefaultValueAccessor", "NgControlStatus", "NgControlStatusGroup", "FormGroupDirective", "FormControlName", "KeyValuePipe", "encapsulation", "ForgotPasswordComponent", "selectors", "decls", "vars", "consts", "template", "rf", "ctx", "\u0275\u0275elementStart", "\u0275\u0275text", "\u0275\u0275elementEnd", "\u0275\u0275element", "ForgotPasswordFormComponent", "RouterLink", "encapsulation"]
}
