import{b as se}from"./chunk-BNAZ6FXL.js";import{g as te,j as re}from"./chunk-PD326AGR.js";import{$a as _,Ga as W,Ha as H,I as P,M as f,Ma as q,N as U,P as j,Q as g,Qb as ee,R as p,Ua as v,Va as k,Wa as Q,X as B,Y as G,_a as b,ab as y,fb as J,ib as x,ka as V,kb as A,o as N,rb as X,sb as Y,ub as Z,va as K,xa as C}from"./chunk-BENNHJVS.js";import{a as I,d,f as ve,g as be}from"./chunk-GH7VMSIE.js";var c,T=d(()=>{"use strict";c=class o{constructor(){this._dataLength=0,this._bufferLength=0,this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}static hashStr(a,e=!1){return this.onePassHasher.start().appendStr(a).end(e)}static hashAsciiStr(a,e=!1){return this.onePassHasher.start().appendAsciiStr(a).end(e)}static _hex(a){let e=o.hexChars,t=o.hexOut,r,s,i,u;for(u=0;u<4;u+=1)for(s=u*8,r=a[u],i=0;i<8;i+=2)t[s+1+i]=e.charAt(r&15),r>>>=4,t[s+0+i]=e.charAt(r&15),r>>>=4;return t.join("")}static _md5cycle(a,e){let t=a[0],r=a[1],s=a[2],i=a[3];t+=(r&s|~r&i)+e[0]-680876936|0,t=(t<<7|t>>>25)+r|0,i+=(t&r|~t&s)+e[1]-389564586|0,i=(i<<12|i>>>20)+t|0,s+=(i&t|~i&r)+e[2]+606105819|0,s=(s<<17|s>>>15)+i|0,r+=(s&i|~s&t)+e[3]-1044525330|0,r=(r<<22|r>>>10)+s|0,t+=(r&s|~r&i)+e[4]-176418897|0,t=(t<<7|t>>>25)+r|0,i+=(t&r|~t&s)+e[5]+1200080426|0,i=(i<<12|i>>>20)+t|0,s+=(i&t|~i&r)+e[6]-1473231341|0,s=(s<<17|s>>>15)+i|0,r+=(s&i|~s&t)+e[7]-45705983|0,r=(r<<22|r>>>10)+s|0,t+=(r&s|~r&i)+e[8]+1770035416|0,t=(t<<7|t>>>25)+r|0,i+=(t&r|~t&s)+e[9]-1958414417|0,i=(i<<12|i>>>20)+t|0,s+=(i&t|~i&r)+e[10]-42063|0,s=(s<<17|s>>>15)+i|0,r+=(s&i|~s&t)+e[11]-1990404162|0,r=(r<<22|r>>>10)+s|0,t+=(r&s|~r&i)+e[12]+1804603682|0,t=(t<<7|t>>>25)+r|0,i+=(t&r|~t&s)+e[13]-40341101|0,i=(i<<12|i>>>20)+t|0,s+=(i&t|~i&r)+e[14]-1502002290|0,s=(s<<17|s>>>15)+i|0,r+=(s&i|~s&t)+e[15]+1236535329|0,r=(r<<22|r>>>10)+s|0,t+=(r&i|s&~i)+e[1]-165796510|0,t=(t<<5|t>>>27)+r|0,i+=(t&s|r&~s)+e[6]-1069501632|0,i=(i<<9|i>>>23)+t|0,s+=(i&r|t&~r)+e[11]+643717713|0,s=(s<<14|s>>>18)+i|0,r+=(s&t|i&~t)+e[0]-373897302|0,r=(r<<20|r>>>12)+s|0,t+=(r&i|s&~i)+e[5]-701558691|0,t=(t<<5|t>>>27)+r|0,i+=(t&s|r&~s)+e[10]+38016083|0,i=(i<<9|i>>>23)+t|0,s+=(i&r|t&~r)+e[15]-660478335|0,s=(s<<14|s>>>18)+i|0,r+=(s&t|i&~t)+e[4]-405537848|0,r=(r<<20|r>>>12)+s|0,t+=(r&i|s&~i)+e[9]+568446438|0,t=(t<<5|t>>>27)+r|0,i+=(t&s|r&~s)+e[14]-1019803690|0,i=(i<<9|i>>>23)+t|0,s+=(i&r|t&~r)+e[3]-187363961|0,s=(s<<14|s>>>18)+i|0,r+=(s&t|i&~t)+e[8]+1163531501|0,r=(r<<20|r>>>12)+s|0,t+=(r&i|s&~i)+e[13]-1444681467|0,t=(t<<5|t>>>27)+r|0,i+=(t&s|r&~s)+e[2]-51403784|0,i=(i<<9|i>>>23)+t|0,s+=(i&r|t&~r)+e[7]+1735328473|0,s=(s<<14|s>>>18)+i|0,r+=(s&t|i&~t)+e[12]-1926607734|0,r=(r<<20|r>>>12)+s|0,t+=(r^s^i)+e[5]-378558|0,t=(t<<4|t>>>28)+r|0,i+=(t^r^s)+e[8]-2022574463|0,i=(i<<11|i>>>21)+t|0,s+=(i^t^r)+e[11]+1839030562|0,s=(s<<16|s>>>16)+i|0,r+=(s^i^t)+e[14]-35309556|0,r=(r<<23|r>>>9)+s|0,t+=(r^s^i)+e[1]-1530992060|0,t=(t<<4|t>>>28)+r|0,i+=(t^r^s)+e[4]+1272893353|0,i=(i<<11|i>>>21)+t|0,s+=(i^t^r)+e[7]-155497632|0,s=(s<<16|s>>>16)+i|0,r+=(s^i^t)+e[10]-1094730640|0,r=(r<<23|r>>>9)+s|0,t+=(r^s^i)+e[13]+681279174|0,t=(t<<4|t>>>28)+r|0,i+=(t^r^s)+e[0]-358537222|0,i=(i<<11|i>>>21)+t|0,s+=(i^t^r)+e[3]-722521979|0,s=(s<<16|s>>>16)+i|0,r+=(s^i^t)+e[6]+76029189|0,r=(r<<23|r>>>9)+s|0,t+=(r^s^i)+e[9]-640364487|0,t=(t<<4|t>>>28)+r|0,i+=(t^r^s)+e[12]-421815835|0,i=(i<<11|i>>>21)+t|0,s+=(i^t^r)+e[15]+530742520|0,s=(s<<16|s>>>16)+i|0,r+=(s^i^t)+e[2]-995338651|0,r=(r<<23|r>>>9)+s|0,t+=(s^(r|~i))+e[0]-198630844|0,t=(t<<6|t>>>26)+r|0,i+=(r^(t|~s))+e[7]+1126891415|0,i=(i<<10|i>>>22)+t|0,s+=(t^(i|~r))+e[14]-1416354905|0,s=(s<<15|s>>>17)+i|0,r+=(i^(s|~t))+e[5]-57434055|0,r=(r<<21|r>>>11)+s|0,t+=(s^(r|~i))+e[12]+1700485571|0,t=(t<<6|t>>>26)+r|0,i+=(r^(t|~s))+e[3]-1894986606|0,i=(i<<10|i>>>22)+t|0,s+=(t^(i|~r))+e[10]-1051523|0,s=(s<<15|s>>>17)+i|0,r+=(i^(s|~t))+e[1]-2054922799|0,r=(r<<21|r>>>11)+s|0,t+=(s^(r|~i))+e[8]+1873313359|0,t=(t<<6|t>>>26)+r|0,i+=(r^(t|~s))+e[15]-30611744|0,i=(i<<10|i>>>22)+t|0,s+=(t^(i|~r))+e[6]-1560198380|0,s=(s<<15|s>>>17)+i|0,r+=(i^(s|~t))+e[13]+1309151649|0,r=(r<<21|r>>>11)+s|0,t+=(s^(r|~i))+e[4]-145523070|0,t=(t<<6|t>>>26)+r|0,i+=(r^(t|~s))+e[11]-1120210379|0,i=(i<<10|i>>>22)+t|0,s+=(t^(i|~r))+e[2]+718787259|0,s=(s<<15|s>>>17)+i|0,r+=(i^(s|~t))+e[9]-343485551|0,r=(r<<21|r>>>11)+s|0,a[0]=t+a[0]|0,a[1]=r+a[1]|0,a[2]=s+a[2]|0,a[3]=i+a[3]|0}start(){return this._dataLength=0,this._bufferLength=0,this._state.set(o.stateIdentity),this}appendStr(a){let e=this._buffer8,t=this._buffer32,r=this._bufferLength,s,i;for(i=0;i<a.length;i+=1){if(s=a.charCodeAt(i),s<128)e[r++]=s;else if(s<2048)e[r++]=(s>>>6)+192,e[r++]=s&63|128;else if(s<55296||s>56319)e[r++]=(s>>>12)+224,e[r++]=s>>>6&63|128,e[r++]=s&63|128;else{if(s=(s-55296)*1024+(a.charCodeAt(++i)-56320)+65536,s>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");e[r++]=(s>>>18)+240,e[r++]=s>>>12&63|128,e[r++]=s>>>6&63|128,e[r++]=s&63|128}r>=64&&(this._dataLength+=64,o._md5cycle(this._state,t),r-=64,t[0]=t[16])}return this._bufferLength=r,this}appendAsciiStr(a){let e=this._buffer8,t=this._buffer32,r=this._bufferLength,s,i=0;for(;;){for(s=Math.min(a.length-i,64-r);s--;)e[r++]=a.charCodeAt(i++);if(r<64)break;this._dataLength+=64,o._md5cycle(this._state,t),r=0}return this._bufferLength=r,this}appendByteArray(a){let e=this._buffer8,t=this._buffer32,r=this._bufferLength,s,i=0;for(;;){for(s=Math.min(a.length-i,64-r);s--;)e[r++]=a[i++];if(r<64)break;this._dataLength+=64,o._md5cycle(this._state,t),r=0}return this._bufferLength=r,this}getState(){let a=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[a[0],a[1],a[2],a[3]]}}setState(a){let e=a.buffer,t=a.state,r=this._state,s;for(this._dataLength=a.length,this._bufferLength=a.buflen,r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],s=0;s<e.length;s+=1)this._buffer8[s]=e.charCodeAt(s)}end(a=!1){let e=this._bufferLength,t=this._buffer8,r=this._buffer32,s=(e>>2)+1;this._dataLength+=e;let i=this._dataLength*8;if(t[e]=128,t[e+1]=t[e+2]=t[e+3]=0,r.set(o.buffer32Identity.subarray(s),s),e>55&&(o._md5cycle(this._state,r),r.set(o.buffer32Identity)),i<=4294967295)r[14]=i;else{let u=i.toString(16).match(/(.*?)(.{0,8})$/);if(u===null)return;let ge=parseInt(u[2],16),pe=parseInt(u[1],16)||0;r[14]=ge,r[15]=pe}return o._md5cycle(this._state,r),a?this._state:o._hex(this._state)}};c.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]);c.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);c.hexChars="0123456789abcdef";c.hexOut=[];c.onePassHasher=new c;if(c.hashStr("hello")!=="5d41402abc4b2a76b9719d911017c592")throw new Error("Md5 self test failed.")});var m,ie=d(()=>{"use strict";T();m=class{constructor(a,e=!0,t=1048576){this._callback=a,this._async=e,this._partSize=t,this._configureReader()}hash(a){let e=this;e._blob=a,e._part=0,e._md5=new c,e._processPart()}_fail(){this._callback({success:!1,result:"data read failed"})}_hashData(a){let e=this;e._md5.appendByteArray(new Uint8Array(a.target.result)),e._part*e._partSize>=e._blob.size?e._callback({success:!0,result:e._md5.end()}):e._processPart()}_processPart(){let a=this,e=0,t;a._part+=1,a._blob.size>a._partSize?(e=a._part*a._partSize,e>a._blob.size&&(e=a._blob.size),t=a._blob.slice((a._part-1)*a._partSize,e)):t=a._blob,a._async?a._reader.readAsArrayBuffer(t):setTimeout(()=>{try{a._hashData({target:{result:a._reader.readAsArrayBuffer(t)}})}catch{a._fail()}},0)}_configureReader(){let a=this;a._async?(a._reader=new FileReader,a._reader.onload=a._hashData.bind(a),a._reader.onerror=a._fail.bind(a),a._reader.onabort=a._fail.bind(a)):a._reader=new FileReaderSync}}});var S,ae=d(()=>{"use strict";S=class{constructor(a,e){this._queue=[],this._ready=!0;let t=this;Worker?(t._hashWorker=new Worker(a,e),t._hashWorker.onmessage=t._recievedMessage.bind(t),t._hashWorker.onerror=r=>{t._ready=!1,console.error("Hash worker failure",r)}):(t._ready=!1,console.error("Web Workers are not supported in this browser"))}hash(a){let e=this,t;return t=new Promise((r,s)=>{e._queue.push({blob:a,resolve:r,reject:s}),e._processNext()}),t}terminate(){this._ready=!1,this._hashWorker.terminate()}_processNext(){this._ready&&!this._processing&&this._queue.length>0&&(this._processing=this._queue.pop(),this._hashWorker.postMessage(this._processing.blob))}_recievedMessage(a){var e,t;let r=a.data;r.success?(e=this._processing)===null||e===void 0||e.resolve(r.result):(t=this._processing)===null||t===void 0||t.reject(r.result),this._processing=void 0,this._processNext()}}});var oe={};ve(oe,{Md5:()=>c,Md5FileHasher:()=>m,ParallelHasher:()=>S});var ne=d(()=>{"use strict";T();ie();ae()});function _e(o,a){if(o&1){let e=J();_(0,"img",3),x("error",function(){B(e);let r=A();return G(r.fetchAvatarSource())}),y()}if(o&2){let e=A();b("src",e.avatarSrc,K)("alt",e.getAltText())("width",e.size)("height",e.size)("ngStyle",e.avatarStyle),v("aria-hidden",e.role==="img"?null:"true")}}function ye(o,a){if(o&1&&(_(0,"div",2),Y(1),y()),o&2){let e=A();b("ngStyle",e.avatarStyle),v("aria-label",e.getAriaLabel()),C(),Z(" ",e.avatarText," ")}}var l=class{sourceId;constructor(a){this.sourceId=a}},n=function(o){return o.FACEBOOK="facebook",o.GOOGLE="google",o.TWITTER="twitter",o.INSTAGRAM="instagram",o.VKONTAKTE="vkontakte",o.GRAVATAR="gravatar",o.GITHUB="github",o.CUSTOM="custom",o.INITIALS="initials",o.VALUE="value",o}(n||{}),w=class{sourceId;sourceType=n.FACEBOOK;constructor(a){this.sourceId=a}getAvatar(a){return`https://graph.facebook.com/${this.sourceId}/picture?width=${a}&height=${a}`}},F=class{sourceId;sourceType=n.TWITTER;constructor(a){this.sourceId=a}getAvatar(a){let e=this.getImageSize(a);return`https://twitter.com/${this.sourceId}/profile_image?size=${e}`}getImageSize(a){return a<=24?"mini":a<=48?"normal":a<=73?"bigger":"original"}},L=class extends l{sourceType=n.GOOGLE;constructor(a){super(a)}getAvatar(){return`https://picasaweb.google.com/data/entry/api/user/${this.sourceId}?alt=json`}processResponse(a,e){let t=a.entry.gphoto$thumbnail.$t;return t?t.replace("s64","s"+e):null}},O=class extends l{sourceType=n.INSTAGRAM;constructor(a){super(a)}getAvatar(){return`https://www.instagram.com/${this.sourceId}/?__a=1`}processResponse(a,e){return`${a.graphql.user.profile_pic_url_hd}&s=${e}`}},M=class{sourceId;sourceType=n.CUSTOM;constructor(a){this.sourceId=a}getAvatar(){return this.sourceId}},R=class{sourceId;sourceType=n.INITIALS;constructor(a){this.sourceId=a}getAvatar(a){return this.getInitials(this.sourceId,a)}getInitials(a,e){if(a=a.trim(),!a)return"";let t=a.split(" ");return e&&e<t.length?this.constructInitials(t.slice(0,e)):this.constructInitials(t)}constructInitials(a){return!a||!a.length?"":a.filter(e=>e&&e.length>0).map(e=>e[0].toUpperCase()).join("")}},h;try{h=(ne(),be(oe)).Md5}catch{h=null}function Ae(o){if(o.match(/^[a-f0-9]{32}$/))return o;let a=0;for(let t=0;t<o.length;t++){let r=o.charCodeAt(t);a=(a<<5)-a+r,a=a&a}return Math.abs(a).toString(16).padStart(8,"0").repeat(4).substring(0,32)}function me(){return!!(typeof window<"u"&&window!==null&&(window.devicePixelRatio>1.25||window.matchMedia&&window.matchMedia("(-webkit-min-device-pixel-ratio: 1.25), (min--moz-device-pixel-ratio: 1.25), (-o-min-device-pixel-ratio: 5/4), (min-resolution: 1.25dppx)").matches))}var z=class{value;sourceType=n.GRAVATAR;sourceId;constructor(a){this.value=a,a.match(/^[a-f0-9]{32}$/)?this.sourceId=a:h&&typeof h.hashStr=="function"?this.sourceId=h.hashStr(a).toString():this.sourceId=Ae(a)}getAvatar(a){let e=me()?a*2:a;return`https://secure.gravatar.com/avatar/${this.sourceId}?s=${e}&d=404`}},E=class{sourceId;sourceType=n.VALUE;constructor(a){this.sourceId=a}getAvatar(){return this.sourceId}},Se=5.154,$=class extends l{sourceType=n.VKONTAKTE;constructor(a){super(a)}getAvatar(a){let e=this.getImageSize(a);return`https://api.vk.com/method/users.get?user_id=${this.sourceId}&v=${Se}&fields=${e}`}processResponse(a){let e=Object.keys(a.response[0]).pop();return e&&a.response[0][e]||null}getImageSize(a){return a<=50?"photo_50":a<=100?"photo_100":a<=200?"photo_200":"photo_max"}},D=class extends l{sourceType=n.GITHUB;constructor(a){super(a)}getAvatar(){return`https://api.github.com/users/${this.sourceId}`}processResponse(a,e){return e?`${a.avatar_url}&s=${e}`:a.avatar_url}},le=(()=>{class o{sources={};constructor(){this.sources[n.FACEBOOK]=w,this.sources[n.TWITTER]=F,this.sources[n.GOOGLE]=L,this.sources[n.INSTAGRAM]=O,this.sources[n.GRAVATAR]=z,this.sources[n.CUSTOM]=M,this.sources[n.INITIALS]=R,this.sources[n.VALUE]=E,this.sources[n.VKONTAKTE]=$,this.sources[n.GITHUB]=D}newInstance(e,t){return new this.sources[e](t)}static \u0275fac=function(t){return new(t||o)};static \u0275prov=f({token:o,factory:o.\u0275fac})}return o})(),he=new j("avatar.config"),de=(()=>{class o{userConfig;constructor(e){this.userConfig=e}getAvatarSources(e){if(this.userConfig&&this.userConfig.sourcePriorityOrder&&this.userConfig.sourcePriorityOrder.length){let r=[...new Set(this.userConfig.sourcePriorityOrder)].filter(s=>e.includes(s));return[...r,...e.filter(s=>!r.includes(s))]}return e}getAvatarColors(e){return this.userConfig&&this.userConfig.colors&&this.userConfig.colors.length&&this.userConfig.colors||e}static \u0275fac=function(t){return new(t||o)(g(he,8))};static \u0275prov=f({token:o,factory:o.\u0275fac})}return o})(),ce=[n.FACEBOOK,n.GOOGLE,n.TWITTER,n.INSTAGRAM,n.VKONTAKTE,n.GRAVATAR,n.GITHUB,n.CUSTOM,n.INITIALS,n.VALUE],ue=["#1abc9c","#3498db","#f1c40f","#8e44ad","#e74c3c","#d35400","#2c3e50","#7f8c8d"],fe=(()=>{class o{http;avatarConfigService;avatarSources=ce;avatarColors=ue;failedSources=new Map;constructor(e,t){this.http=e,this.avatarConfigService=t,this.overrideAvatarSources(),this.overrideAvatarColors()}fetchAvatar(e){return this.http.get(e)}getRandomColor(e){if(!e)return"transparent";let t=this.calculateAsciiCode(e);return this.avatarColors[t%this.avatarColors.length]}compareSources(e,t){return this.getSourcePriority(e)-this.getSourcePriority(t)}isSource(e){return this.avatarSources.includes(e)}isTextAvatar(e){return[n.INITIALS,n.VALUE].includes(e)}buildSourceKey(e){return e.sourceType+"-"+e.sourceId}sourceHasFailedBefore(e){return this.failedSources.has(this.buildSourceKey(e))}markSourceAsFailed(e){this.failedSources.set(this.buildSourceKey(e),e)}overrideAvatarSources(){this.avatarSources=this.avatarConfigService.getAvatarSources(ce)}overrideAvatarColors(){this.avatarColors=this.avatarConfigService.getAvatarColors(ue)}calculateAsciiCode(e){return e.split("").map(t=>t.charCodeAt(0)).reduce((t,r)=>t+r)}getSourcePriority(e){return this.avatarSources.indexOf(e)}static \u0275fac=function(t){return new(t||o)(g(se),g(de))};static \u0275prov=f({token:o,factory:o.\u0275fac})}return o})(),Ve=(()=>{class o{round=!0;size=50;textSizeRatio=3;bgColor;fgColor="#FFF";borderColor;style={};cornerRadius=0;alt;ariaLabel;role="img";clickable=!1;facebook;twitter;google;instagram;vkontakte;gravatar;github;custom;initials;value;placeholder;initialsSize=0;clickOnAvatar=new q;isAlive=!0;avatarSrc=null;avatarText=null;avatarStyle={};hostStyle={};currentIndex=-1;sources=[];sourceFactory=p(le);avatarService=p(fe);cdr=p(ee);onAvatarClicked(){this.clickable&&this.clickOnAvatar.emit(this.sources[this.currentIndex])}onKeyDown(e){this.clickable&&(e.key==="Enter"||e.key===" ")&&(e.preventDefault(),this.onAvatarClicked())}getAltText(){if(this.alt)return this.alt;if(this.initials)return`Avatar for ${this.initials}`;if(this.value)return`Avatar displaying ${this.value}`;let e=this.sources[this.currentIndex];return e?.sourceType?`Avatar from ${e.sourceType}`:"User avatar"}getAriaLabel(){return this.ariaLabel?this.ariaLabel:this.clickable?`${this.getAltText()}, clickable`:this.getAltText()}ngOnChanges(e){for(let t in e)if(this.avatarService.isSource(t)){let r=n[t.toUpperCase()],s=e[t].currentValue;s&&typeof s=="string"?this.addSource(r,s):this.removeSource(r)}this.initializeAvatar()}fetchAvatarSource(){let e=this.sources[this.currentIndex];e&&this.avatarService.markSourceAsFailed(e);let t=this.findNextSource();t&&(this.avatarService.isTextAvatar(t.sourceType)?(this.buildTextAvatar(t),this.avatarSrc=null,this.cdr.markForCheck()):this.buildImageAvatar(t))}findNextSource(){for(;++this.currentIndex<this.sources.length;){let e=this.sources[this.currentIndex];if(e&&!this.avatarService.sourceHasFailedBefore(e))return e}return null}ngOnDestroy(){this.isAlive=!1}initializeAvatar(){this.currentIndex=-1,this.sources.length>0&&(this.sortAvatarSources(),this.fetchAvatarSource(),this.hostStyle={width:this.size+"px",height:this.size+"px"})}sortAvatarSources(){this.sources.sort((e,t)=>this.avatarService.compareSources(e.sourceType,t.sourceType))}buildTextAvatar(e){this.avatarText=e.getAvatar(+this.initialsSize),this.avatarStyle=this.getInitialsStyle(e.sourceId)}buildImageAvatar(e){this.avatarStyle=this.getImageStyle(),e instanceof l?this.fetchAndProcessAsyncAvatar(e):(this.avatarSrc=e.getAvatar(+this.size),this.cdr.markForCheck())}getInitialsStyle(e){return I({textAlign:"center",borderRadius:this.round?"100%":this.cornerRadius+"px",border:this.borderColor?"1px solid "+this.borderColor:"",textTransform:"uppercase",color:this.fgColor,backgroundColor:this.bgColor?this.bgColor:this.avatarService.getRandomColor(e),font:Math.floor(+this.size/this.textSizeRatio)+"px Helvetica, Arial, sans-serif",lineHeight:this.size+"px"},this.style)}getImageStyle(){return I({maxWidth:"100%",borderRadius:this.round?"50%":this.cornerRadius+"px",border:this.borderColor?"1px solid "+this.borderColor:"",width:this.size+"px",height:this.size+"px"},this.style)}fetchAndProcessAsyncAvatar(e){this.avatarService.sourceHasFailedBefore(e)||this.avatarService.fetchAvatar(e.getAvatar(+this.size)).pipe(P(()=>this.isAlive),N(t=>e.processResponse(t,+this.size))).subscribe({next:t=>{this.avatarSrc=t,this.cdr.markForCheck()},error:t=>{this.fetchAvatarSource()}})}addSource(e,t){let r=this.sources.find(s=>s.sourceType===e);r?r.sourceId=t:this.sources.push(this.sourceFactory.newInstance(e,t))}removeSource(e){this.sources=this.sources.filter(t=>t.sourceType!==e)}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=W({type:o,selectors:[["ngx-avatar"]],inputs:{round:"round",size:"size",textSizeRatio:"textSizeRatio",bgColor:"bgColor",fgColor:"fgColor",borderColor:"borderColor",style:"style",cornerRadius:"cornerRadius",alt:"alt",ariaLabel:"ariaLabel",role:"role",clickable:"clickable",facebook:[0,"facebookId","facebook"],twitter:[0,"twitterId","twitter"],google:[0,"googleId","google"],instagram:[0,"instagramId","instagram"],vkontakte:[0,"vkontakteId","vkontakte"],gravatar:[0,"gravatarId","gravatar"],github:[0,"githubId","github"],custom:[0,"src","custom"],initials:[0,"name","initials"],value:"value",placeholder:"placeholder",initialsSize:"initialsSize"},outputs:{clickOnAvatar:"clickOnAvatar"},features:[V],decls:3,vars:7,consts:[[1,"avatar-container",3,"click","keydown","ngStyle"],["loading","lazy",1,"avatar-content",3,"src","alt","width","height","ngStyle"],[1,"avatar-content",3,"ngStyle"],["loading","lazy",1,"avatar-content",3,"error","src","alt","width","height","ngStyle"]],template:function(t,r){t&1&&(_(0,"div",0),x("click",function(){return r.onAvatarClicked()})("keydown",function(i){return r.onKeyDown(i)}),k(1,_e,1,6,"img",1)(2,ye,2,3,"div",2),y()),t&2&&(X("clickable",r.clickable),b("ngStyle",r.hostStyle),v("role",r.role)("aria-label",r.getAriaLabel())("tabindex",r.clickable?"0":null),C(),Q(r.avatarSrc?1:r.avatarText?2:-1))},dependencies:[te],styles:["[_nghost-%COMP%]{border-radius:50%}//   [_nghost-%COMP%]{// border-radius: 50%;// display: inline-block;//}//[_ngcontent-%COMP%]   .avatar-container[_ngcontent-%COMP%]{// outline: none;//}"],changeDetection:0})}return o})(),Ke=(()=>{class o{static forRoot(e){return{ngModule:o,providers:[{provide:he,useValue:e||{}}]}}static \u0275fac=function(t){return new(t||o)};static \u0275mod=H({type:o});static \u0275inj=U({providers:[le,fe,de],imports:[re]})}return o})();export{Ve as a,Ke as b};
//# sourceMappingURL=chunk-S7KDQIES.js.map
