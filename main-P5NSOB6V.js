import{a as te,b as v,c as oe,d as f,e as ie,f as ne,g as N,h as re,i as ae,j as se,k as me,l as pe}from"./chunk-QP4DLKIV.js";import{b as y,d as U,e as $,f as Y,g as J,h as K,i as Q,j as W,k as X,l as ee}from"./chunk-PRAXM5FC.js";import"./chunk-ROSIR3OZ.js";import{d as q,e as O,f as Z}from"./chunk-64QYHHIX.js";import{a as h}from"./chunk-NKAKMJBZ.js";import{$ as A,D as E,E as M,Ea as g,Oa as D,Sa as _,T as a,Ta as w,Ua as R,Va as G,Wa as j,Xa as d,Y as x,Ya as i,Z as C,Za as n,_ as c,_a as s,cb as S,db as b,eb as u,fa as V,ga as I,jb as m,kb as B,mb as z,pb as H,q as F,rb as P,va as l}from"./chunk-IU4JXPPZ.js";var le=()=>{let e=a(v),o=a(h),t=a(K);return e.isLoggedIn()||(o.show("You must be logged in to access this page."),t.navigate(["/home"])),e.isLoggedIn()};var ce=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"dating-app",redirectTo:"home",pathMatch:"full"},{path:"home",loadComponent:()=>import("./chunk-6OWVW3HZ.js").then(e=>e.Home),title:"Home"},{path:"register",loadComponent:()=>import("./chunk-DXTQPXXB.js").then(e=>e.RegisterForm),title:"Register"},{path:"portal",canActivate:[le],title:"Portal",children:[{path:"users",loadComponent:()=>import("./chunk-N7HGY6CL.js").then(e=>e.UsersList)},{path:"users/:id",loadComponent:()=>import("./chunk-BOIYNW74.js").then(e=>e.UserDetails)},{path:"lists",loadComponent:()=>import("./chunk-Z25TSY5S.js").then(e=>e.Lists)},{path:"messages",loadComponent:()=>import("./chunk-FWDNT44N.js").then(e=>e.Messages)}]},{path:"**",loadComponent:()=>import("./chunk-B7LLZZA4.js").then(e=>e.NotFound)}];var de=(e,o)=>{let r=a(te).get("accessToken"),p=e.clone({setHeaders:{Authorization:`Bearer ${r}`}});return o(p)};var ue={providers:[V(),P(),X(ce,ee()),Y($()),q(Z(),O([de])),D(async()=>{let e=a(v);return new Promise(o=>{setTimeout(async()=>{try{await F(e.retrieveUserAccount())}finally{console.log("Initialization Complete");let t=document.getElementById("initial-splash");t&&t.remove(),o()}},500)})})]};function he(e,o){e&1&&(c(),i(0,"svg",2),s(1,"path",4),n())}function xe(e,o){e&1&&(c(),i(0,"svg",2),s(1,"path",4),n())}function Ce(e,o){e&1&&(c(),i(0,"svg",2),s(1,"path",4),n())}function _e(e,o){e&1&&(c(),i(0,"svg",2),s(1,"path",4),n())}function we(e,o){if(e&1){let t=S();i(0,"div",1),_(1,he,2,0,":svg:svg",2)(2,xe,2,0,":svg:svg",2)(3,Ce,2,0,":svg:svg",2)(4,_e,2,0,":svg:svg",2),i(5,"span"),m(6),n(),i(7,"button",3),b("click",function(){let p=x(t).$implicit,ve=u();return C(ve.remove(p.id))}),m(8," \u2715 "),n()()}if(e&2){let t,r=o.$implicit,p=u();d("ngClass",p.getClass(r.type)),l(),w((t=r.type)==="success"?1:t==="error"?2:t==="info"?3:t==="warning"?4:-1),l(5),B(r.message)}}var L=class e{toastService=a(h);toasts=this.toastService.toasts;getClass(o){return{"alert-success":o==="success","alert-error":o==="error","alert-info":o==="info","alert-warning":o==="warning"}}remove(o){this.toastService.remove(o)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=g({type:e,selectors:[["app-toast"]],decls:3,vars:0,consts:[[1,"toast"],["role","alert",1,"alert",3,"ngClass"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"h-6","w-6","shrink-0","stroke-current"],[1,"btn","btn-sm","btn-circle","btn-ghost",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"]],template:function(t,r){t&1&&(i(0,"div",0),G(1,we,9,3,"div",1,R),n()),t&2&&(l(),j(r.toasts()))},dependencies:[y],encapsulation:2})};var Se=e=>({"border-r-white border-r-2 pr-6":e});function be(e,o){e&1&&(i(0,"a",11),m(1,"Matches"),n(),i(2,"a",12),m(3,"People"),n(),i(4,"a",13),m(5,"Messages"),n())}function ye(e,o){if(e&1){let t=S();i(0,"div",9)(1,"button",14),c(),i(2,"svg",15),s(3,"path",16),n(),m(4),n(),A(),i(5,"ul",17)(6,"li")(7,"a",18),m(8," Profile "),n()(),i(9,"li")(10,"a",18),m(11," Settings "),n()(),i(12,"li")(13,"a",19),b("click",function(){x(t);let p=u();return C(p.onLogout())}),m(14," Logout "),n()()()()}if(e&2){let t=o;l(4),z(" ",t.firstName," ",t.lastName," ")}}function Le(e,o){if(e&1){let t=S();i(0,"form",20),b("ngSubmit",function(){x(t);let p=u();return C(p.onSubmit())}),s(1,"input",21)(2,"input",22),i(3,"button",23),m(4," Login "),n()()}if(e&2){let t=u();d("formGroup",t.loginForm),l(),d("readOnly",t.isLoading()),l(),d("readOnly",t.isLoading()),l(),d("disabled",t.isLoading())}}var T=class e{formBuilder=a(me);toastService=a(h);authService=a(v);isLoading=I(!1);loginForm=this.formBuilder.group({username:new N("",[f.required,f.minLength(3),f.maxLength(20)]),password:new N("",[f.required,f.minLength(6),f.maxLength(100)])});onSubmit(){if(!this.loginForm.valid)return;let o=this.loginForm.getRawValue();this.isLoading.set(!0),this.authService.login(o).pipe(M(),E(()=>this.isLoading.set(!1))).subscribe({next:t=>{this.toastService.show("Login successful","success")},error:t=>{this.toastService.show("Login failed: "+t.error,"error")}})}onLogout(){this.authService.logout()}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=g({type:e,selectors:[["app-nav"]],decls:13,vars:5,consts:[[1,"p-3","w-full","fixed","top-0","z-50","bg-gradient-to-r","from-secondary","to-black"],[1,"flex","align-middle","items-center","px-10","mx-auto","gap-6"],[1,"text-white"],["routerLink","/home","routerLinkActive","text-primary",1,"flex","items-center","gap-3","max-h-16",3,"ngClass"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-8"],["stroke-linecap","round","stroke-linejoin","round","d","M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"],[1,"text-2xl","font-semibold","uppercase"],[1,"flex","gap-4","my-2","uppercase","text-lg","text-white"],[1,"flex","align-middle","ml-auto","gap-3"],[1,"dropdown","dropdown-end"],["autocomplete","off",1,"flex","items-center","gap-3",3,"formGroup"],["routerLink","/portal/users","routerLinkActive","text-primary",1,"hover:text-primary"],["routerLink","/portal/lists","routerLinkActive","text-primary",1,"hover:text-primary"],["routerLink","/portal/messages","routerLinkActive","text-primary",1,"hover:text-primary"],["tabindex","0",1,"flex","items-center","text-white","text-xl","gap-3","cursor-pointer"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-6"],["stroke-linecap","round","stroke-linejoin","round","d","M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"],["tabindex","0",1,"dropdown-content","dropdown-end","menu","bg","bg-base-100","rounded-box","z-1","w-52"],["href","",1,"justify-between"],["href","",1,"justify-between",3,"click"],["autocomplete","off",1,"flex","items-center","gap-3",3,"ngSubmit","formGroup"],["type","text","formControlName","username","placeholder","Username",1,"input",3,"readOnly"],["type","password","formControlName","password","placeholder","Password",1,"input",3,"readOnly"],[1,"btn","btn-secondary",3,"disabled"]],template:function(t,r){if(t&1&&(i(0,"header",0)(1,"div",1)(2,"div",2)(3,"a",3),c(),i(4,"svg",4),s(5,"path",5),n(),A(),i(6,"h3",6),m(7,"Dating App"),n()()(),i(8,"nav",7),_(9,be,6,0),n(),i(10,"div",8),_(11,ye,15,2,"div",9)(12,Le,5,4,"form",10),n()()()),t&2){let p;l(3),d("ngClass",H(3,Se,r.authService.isLoggedIn())),l(6),w(r.authService.isLoggedIn()?9:-1),l(2),w((p=r.authService.userAccountData())?11:12,p)}},dependencies:[pe,re,oe,ie,ne,ae,se,Q,W,y],encapsulation:2})};var k=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=g({type:e,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"mt-24","container","mx-auto"]],template:function(t,r){t&1&&(s(0,"app-nav"),i(1,"div",0),s(2,"router-outlet"),n(),s(3,"app-toast"))},dependencies:[J,T,L],encapsulation:2})};U(k,ue).catch(e=>console.error(e));
